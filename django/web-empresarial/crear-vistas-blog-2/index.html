<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
    
    
    

    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Para las categorías tenemos que aplicar una lógica diferente de la que hemos utilizado hasta ahora.">
      
      
        <link rel="canonical" href="https://docs.hektorprofe.net/django/web-empresarial/crear-vistas-blog-2/">
      
      
        <meta name="author" content="Héctor Costa Guzman">
      
      <link rel="shortcut icon" href="/favicon.ico">
    
    
      
        <title>Creando las vistas del Blog (2) | Curso de Django | Hektor Profe</title>
      
    
    <link rel="stylesheet" href="../../../assets/stylesheets/application.2.css">
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    
    <link rel="stylesheet" href="/assets/stylesheets/tingle.min.css">
<style>
@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("/assets/fonts/specimen/MaterialIcons-Regular.woff2") format("woff2"),url("/assets/fonts/specimen/MaterialIcons-Regular.woff") format("woff"),url("/assets/fonts/specimen/MaterialIcons-Regular.ttf") format("truetype")}
[data-md-color-primary="grey"] .md-header { background-color: #191A1D }
[data-md-color-primary="grey"] .md-tabs { background-color: #222831 }
.md-footer-nav { background-color: #222831; }
.md-footer-meta { background-color: #191A1D }
html [data-md-color-primary="grey"] .md-nav--primary .md-nav__title--site { background-color: #191A1D; }
.mini{ display: none; } .maxi{ display: block; }
.embed-container { position: relative; padding-bottom: 56.25%;height: 0; overflow: hidden; max-width: 100%; height: auto; margin-bottom: 0; } 
.embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
.md-nav__link:focus, .md-nav__link:hover { color: #018dc5; }
.headerlink{ color: #018dc5 !important; }
.md-footer-links__highlight a{ color: #777 !important; }
.md-footer-links__highlight a:hover{ color: #ddd !important; }
.visible{ display: inherit !important; }
/*.md-tabs { display: none !important; }*/
.nav__btn, .nav__logo{ transition: 0.3s; }
.nav__btn:hover{ color: #aaa; }
.nav__logo:hover{ opacity:.7; }
.nav__logo {max-width: 225px !important; }
img:not([src]){visibility:hidden;}
img.click{opacity: 0.96;box-shadow:rgb(79, 82, 92) -4px 4px}
img.click:hover{opacity: 1;box-shadow:rgb(10, 172, 237) -4px 4px}
.button { background-color: #36bf2d; border: none; color: white !important; padding: 20px 0px; text-align: center; text-decoration: none; display: block; font-size: 97%; width: 100%; font-weight: bold;}
.button:hover { background-color: #4CAF50; color: white; }
.animated.delay-1dot5s {animation-delay: 1.5s;}
.md-icon--search { display:inline-block!important}
a.headerlink{ display: none !important; }
small.edited { display: block; text-align: right; }
#cookie-bar { padding: 1.8rem 1.25rem !important; background: #191A1D  !important; box-shadow:rgba(0, 0, 0, 0.2) 4px 4px 8px 8px; }
#cookie-bar-prompt-logo{ display: none !important; }
div.my-img{text-align:center;margin-top:20px}
@media (max-width: 76.1875em){ .mini{ display: block; } .maxi{ display: none;} /*.md-nav__link[for="nav-1"] { display: none; }*/ }
@media (min-width: 1599.9px){ .md-header-nav__button.md-logo img { height: 37.5px !important; width: 220px; } }
@media (min-width: 1999.9px){ .md-header-nav__button.md-logo img { height: 40px !important; width: 240px; } }
/* Rectificación footer en paginas pequeñas de altura */
@media (max-width: 1599.8px){ .md-container {height: calc(100% - 48px)} }
@media (min-width: 1599.9px){ .md-container {height: calc(100% - 53px)} }
@media (min-width: 1999.9px){ .md-container {height: calc(100% - 58px)} }
@media only screen and (max-width: 959.9px) { .nav__logo { display: block !important; }} 
@media only screen and (min-width: 960px) and (max-width: 76.1875em) { .nav__logo { display: block !important; }} 
@media only screen and (min-width: 76.1875em) { .nav__logo { display: none !important; } } 
@media only screen and (max-width: 76.1875em) { .md-sidebar--primary { left: -26.2rem;; width: 26.2rem; }  [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary { -webkit-transform: translateX(26.2rem); transform: translateX(26.2rem); } [dir="rtl"] [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary { -webkit-transform: translateX(-26.2rem); transform: translateX(-26.2rem); } }
@media (min-width: 1219.9px){ #home__btn { display: none !important; } #cursos__btn{ color: white !important; } [data-md-color-primary="grey"] .md-nav__link--active{ color: rgba(0, 0, 0, 0.87); text-decoration: underline !important; } }
@media (min-width: 467.9px){ #discord__btn{ display: inline-block !important; } }
@media only screen and (min-width: 60em){ .md-search__input { background-color: rgb(53, 54, 56); } .md-search__input:hover { background-color: rgb(84, 87, 93); color: white; }}
@media (max-width: 1219.9px){ .md-header-nav__title{ padding: 0 1rem; } .nav__btn {display:none;} }
@media (max-width: 875.9px){ #cookie-bar-button{ margin-top: 20px !important; }}
@media (max-width: 719.9px){ #cookie-bar { padding: 3.25rem 1.25rem; }}
@media (max-width: 512.9px){ #cookie-bar { padding: 2rem 1.25rem; }}

.tingle-modal { font-size:18px !important;}
.tingle-modal-box{ width: 80%; max-width: 1100px; }
.tingle-btn--danger{ background: darkorange !important; }
.tingle-modal-box__content { padding: 3rem 2rem 3rem 3rem;}
@media (max-width: 540px){ .tingle-modal-box{ width: auto; } }
@media (max-width: 849px){ #supermodal{ grid-template-columns:100% !important; }}

.md-sidebar--secondary .md-sidebar__scrollwrap {max-height: calc(100% - 275px - 60px)}
@media (max-width: 1999.9px){.md-sidebar--secondary .md-sidebar__scrollwrap {max-height: calc(100% - 246px - 60px);margin-right:-1px;}}
@media (max-width: 1599.9px){.md-sidebar--secondary .md-sidebar__scrollwrap {max-height: calc(100% - 222px - 60px)}}

</style>
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="grey">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#creando-las-vistas-del-blog-2" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header
  class="md-header"
  data-md-component="header"
  style="position: inherit !important"
>
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a
          href="/"
          title="Hektor Profe"
          class="md-header-nav__button md-logo"
          style="font-size: 0px"
        >
          <img
            src="/assets/images/logo.png"
            width="200px"
            height="35px"
            style="margin-top: -5px"
            alt="Hektor Profe"
            title="Hektor Profe"
          />
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label
          class="md-icon md-icon--menu md-header-nav__button"
          for="__drawer"
        ></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div
          class="md-flex__ellipsis md-header-nav__title"
          data-md-component="title"
          style="text-align: left"
        >
        <!-- https://fontawesome.com/v4.7.0/ -->
          <a 
            class="nav__btn" 
            href="/" 
            style="margin-left:1em;" 
            title="Archivos de Hektor Profe">
            <i class="fa fa-search" aria-hidden="true" style="color:#0193CA"></i> Buscar en mis apuntes
          </a>
          <a 
            class="nav__btn" 
            href="#" 
            onclick="modalButtonOnly.open()"
            style="margin-left:1.35em;" 
            title="Cursos de Hektor Profe">
            <i class="fa fa-university" aria-hidden="true" style="color:#0193CA"></i> Ofertas cursos Udemy
          </a>
          <a href="/"
            ><img
              class="nav__logo"
              src="/assets/images/logo.png"
              width="200px"
              height="35px"
              style="margin: 6px auto 0"
              alt="Hektor Profe"
              title="Hektor Profe"
          /></a>
        </div>
        <style>
          .md-sidebar[data-md-state="lock"] {
            top: 0rem !important;
          }
          .md-tabs {
            display: none !important;
          }
          .hde {
            display: inline-block;
          }
          .admonition.note > .superfences-tabs > label:hover,
          .headerlink {
            color: #018dc5 !important;
          }
          .admonition.info {
            font-size: 100%;
          }
          .admonition.info label {
            font-size: 91%;
          }
          .admonition.note > .admonition-title {
            display: none;
          }
          .image {
            text-align: center;
            margin-top: 25px;
          }
          .contenedor_youtube {
            position: relative !important;
            padding-bottom: 56.25% !important; /*panorámico*/
            padding-top: 0px !important;
            height: 0 !important;
            margin-top: -20px;
            margin-bottom: 25px;
          }
          .contenedor_youtube iframe {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
          }
        </style>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container" style="padding-top: 0px !important;">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list" id="top__tabs">
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
      </ul>
    </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container" style="padding-top: 8px !important;">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap" id="md__sidebar__scroll">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title" for="__drawer" style="padding:0 !important;max-height:5.5rem;"></label>
  
  <ul class="md-nav__list" id="main__list" data-md-scrollfix>
    
      
    
      
    
      
    
        <!-- comprobación extra -->
         
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Apuntes de Django
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Apuntes de Django
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../" title="Índice del archivo" class="md-nav__link">
      Índice del archivo
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Proyecto Web Personal
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Proyecto Web Personal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/" title="Introducción" class="md-nav__link">
      Introducción
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/creando-proyecto/" title="Creando el proyecto" class="md-nav__link">
      Creando el proyecto
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/configurando-proyecto/" title="Configurando el proyecto" class="md-nav__link">
      Configurando el proyecto
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/app-core-vistas/" title="App 1 [Core] Vistas" class="md-nav__link">
      App 1 [Core] Vistas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/extendiendo-app-core/" title="Extendiendo la App [Core]" class="md-nav__link">
      Extendiendo la App [Core]
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/paginas-portafolio-contacto/" title="Páginas portafolio y contacto" class="md-nav__link">
      Páginas portafolio y contacto
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/introduccion-plantillas-templates/" title="Introducción a los templates" class="md-nav__link">
      Introducción a los templates
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/templates-about-portfolio-contact/" title="Templates about y portfolio" class="md-nav__link">
      Templates about y portfolio
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/herencia-plantillas-templates/" title="Herencia en las plantillas" class="md-nav__link">
      Herencia en las plantillas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/adaptar-plantillas-herencia/" title="Adaptar plantillas y herencia" class="md-nav__link">
      Adaptar plantillas y herencia
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/template-tag-url/" title="El template tag url" class="md-nav__link">
      El template tag url
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/uniendo-frontend-backend/" title="Uniendo frontend y backend" class="md-nav__link">
      Uniendo frontend y backend
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/creando-cabecera-dinamica/" title="Creando cabecera dinámica" class="md-nav__link">
      Creando cabecera dinámica
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/adaptar-demas-templates/" title="Adaptar los demás templates" class="md-nav__link">
      Adaptar los demás templates
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/app-portfolio-modelos/" title="App 2 [Portfolio] Modelos" class="md-nav__link">
      App 2 [Portfolio] Modelos
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/panel-administrador/" title="Panel de administrador" class="md-nav__link">
      Panel de administrador
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/personalizando-panel-administrador-parte-1/" title="Personalizando el admin (1)" class="md-nav__link">
      Personalizando el admin (1)
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/patron-mvt-modelo-vista-template/" title="Patrón MVC" class="md-nav__link">
      Patrón MVC
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-personal/anadir-enlace-proyectos/" title="Añadir enlace a los proyectos" class="md-nav__link">
      Añadir enlace a los proyectos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
            
            
            

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3" checked>
    
    <label class="md-nav__link" for="nav-4-3">
      Proyecto Web Empresarial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Proyecto Web Empresarial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../" title="Introducción" class="md-nav__link">
      Introducción
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../preparar-app-core/" title="Preparar la app [Core]" class="md-nav__link">
      Preparar la app [Core]
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../organizar-mejor-nuestras-urls/" title="Organizando nuestras URLs" class="md-nav__link">
      Organizando nuestras URLs
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../fusion-frontend-y-backend/" title="Fusión frontend y backend" class="md-nav__link">
      Fusión frontend y backend
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../resaltar-seccion-actual/" title="Resaltando la sección actual" class="md-nav__link">
      Resaltando la sección actual
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../app-services-modelo-admin/" title="App 3 [Services] Modelos" class="md-nav__link">
      App 3 [Services] Modelos
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../app-services-vista-template/" title="App 3 [Services] Vistas" class="md-nav__link">
      App 3 [Services] Vistas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../app-blog-relaciones/" title="App 4 [Blog] Relaciones" class="md-nav__link">
      App 4 [Blog] Relaciones
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../personalizando-panel-administrador-parte-2/" title="Personalizando el admin (2)" class="md-nav__link">
      Personalizando el admin (2)
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../crear-vistas-blog-1/" title="Creando vistas del Blog (1)" class="md-nav__link">
      Creando vistas del Blog (1)
    </a>
  </li>

        
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Creando vistas del Blog (2)" class="md-nav__link md-nav__link--active" id="md__active_link">
      Creando vistas del Blog (2)
    </a>
    
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../app-social-enlaces-redes/" title="App 5 [Social] Redes sociales" class="md-nav__link">
      App 5 [Social] Redes sociales
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../procesadores-contexto/" title="Procesadores de contexto" class="md-nav__link">
      Procesadores de contexto
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../app-pages-gestor-paginas/" title="App 6 [Pages] Páginas" class="md-nav__link">
      App 6 [Pages] Páginas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../template-tags-propios/" title="Template tags propios" class="md-nav__link">
      Template tags propios
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../ordenar-editar-paginas/" title="Ordenar y editar páginas" class="md-nav__link">
      Ordenar y editar páginas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../personalizando-panel-administrador-parte-3/" title="Personalizando el admin (3)" class="md-nav__link">
      Personalizando el admin (3)
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../app-contact-formularios/" title="App 7 [Contact] Formularios" class="md-nav__link">
      App 7 [Contact] Formularios
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../formularios-procesado-validacion/" title="Procesar validar formularios" class="md-nav__link">
      Procesar validar formularios
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../fusion-formulario/" title="Fusionando el formulario" class="md-nav__link">
      Fusionando el formulario
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../enviar-emails-prueba/" title="Enviando emails de prueba" class="md-nav__link">
      Enviando emails de prueba
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../personalizando-panel-administrador-parte-4/" title="Personalizando el admin (4)" class="md-nav__link">
      Personalizando el admin (4)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Proyecto Web Playground
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Proyecto Web Playground
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/" title="Introducción" class="md-nav__link">
      Introducción
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/preparar-app-core/" title="Preparar la app [Core]" class="md-nav__link">
      Preparar la app [Core]
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-templateview/" title="CBV y TemplateView" class="md-nav__link">
      CBV y TemplateView
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/preparar-app-pages/" title="Preparando la App [Pages]" class="md-nav__link">
      Preparando la App [Pages]
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-listview-detailview/" title="ListView y DetailView" class="md-nav__link">
      ListView y DetailView
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-createview/" title="CBV CRUD CreateView" class="md-nav__link">
      CBV CRUD CreateView
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-updateview/" title="CBV CRUD UpdateView" class="md-nav__link">
      CBV CRUD UpdateView
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-deleteview/" title="CBV CRUD DeleteView" class="md-nav__link">
      CBV CRUD DeleteView
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-forms-models/" title="CBV Forms para Modelos" class="md-nav__link">
      CBV Forms para Modelos
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/mixin-identificacion/" title="Mixin de identificación" class="md-nav__link">
      Mixin de identificación
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/decoradores-identificacion/" title="Decorador identificación" class="md-nav__link">
      Decorador identificación
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/app-registration-sesiones/" title="App 8 [Registration] Sesión" class="md-nav__link">
      App 8 [Registration] Sesión
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cerrar-sesion/" title="Cerrando la sesión" class="md-nav__link">
      Cerrando la sesión
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/cbv-registro/" title="Registro con CBV" class="md-nav__link">
      Registro con CBV
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/email-registro-obligatorio/" title="Email de registro obligatorio" class="md-nav__link">
      Email de registro obligatorio
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/validar-email-unico/" title="Validando un email único" class="md-nav__link">
      Validando un email único
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/restaurar-contrasena/" title="Restauración de contraseña" class="md-nav__link">
      Restauración de contraseña
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/crear-perfil-usuario/" title="Creando un perfil de usuario" class="md-nav__link">
      Creando un perfil de usuario
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/formulario-edicion-perfil/" title="Haciendo editable el perfil" class="md-nav__link">
      Haciendo editable el perfil
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/mejorando-formulario-perfil/" title="Mejorando el form de perfil" class="md-nav__link">
      Mejorando el form de perfil
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/edicion-email/" title="Edición de email" class="md-nav__link">
      Edición de email
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/edicion-contrasena/" title="Edición de contraseña" class="md-nav__link">
      Edición de contraseña
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/introduccion-senales-signals/" title="Introducción a las señales" class="md-nav__link">
      Introducción a las señales
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/introduccion-pruebas-unitarias-unittest/" title="Introducción a las unittest" class="md-nav__link">
      Introducción a las unittest
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/optimizar-almacenamiento-avatar/" title="Optimizando el avatar" class="md-nav__link">
      Optimizando el avatar
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/app-profiles-perfiles-publicos/" title="App 9 [Profiles] Perfiles" class="md-nav__link">
      App 9 [Profiles] Perfiles
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/paginacion-cbv-listview/" title="Paginación en ListView" class="md-nav__link">
      Paginación en ListView
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/app-messenger-mensajeria/" title="App 10 [Messenger] Análisis" class="md-nav__link">
      App 10 [Messenger] Análisis
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/tdd-primeras-pruebas/" title="TDD (1) Primeras pruebas" class="md-nav__link">
      TDD (1) Primeras pruebas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/tdd-refactorizacion/" title="TDD (2) Refactorización" class="md-nav__link">
      TDD (2) Refactorización
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/tdd-model-manager/" title="TDD (3) Model Manager" class="md-nav__link">
      TDD (3) Model Manager
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/urls-vistas-templates/" title="URLs, vistas y templates" class="md-nav__link">
      URLs, vistas y templates
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/mensajes-asincronos-javascript-1/" title="Mensajes asíncronos JS (1)" class="md-nav__link">
      Mensajes asíncronos JS (1)
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/mensajes-asincronos-javascript-2/" title="Mensajes asíncronos JS (2)" class="md-nav__link">
      Mensajes asíncronos JS (2)
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/mensajes-asincronos-javascript-3/" title="Mensajes asíncronos JS (3)" class="md-nav__link">
      Mensajes asíncronos JS (3)
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/programando-conversaciones/" title="Programar conversaciones" class="md-nav__link">
      Programar conversaciones
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../web-playground/detalle-final/" title="El detalle final" class="md-nav__link">
      El detalle final
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Proyecto API Rest
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Proyecto API Rest
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../api-django-rest/" title="Introducción" class="md-nav__link">
      Introducción
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../api-django-rest/sistema-autenticacion-registro/" title="Sistema de autenticación" class="md-nav__link">
      Sistema de autenticación
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../api-django-rest/sistema-peliculas-generos/" title="Sistema de películas" class="md-nav__link">
      Sistema de películas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../api-django-rest/sistema-busqueda-filtro/" title="Sistema de búsqueda" class="md-nav__link">
      Sistema de búsqueda
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../api-django-rest/sistema-perfiles-usuario/" title="Sistema de perfiles de usuario" class="md-nav__link">
      Sistema de perfiles de usuario
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../api-django-rest/sistema-peliculas-usuario/" title="Sistema de películas de usuario" class="md-nav__link">
      Sistema de películas de usuario
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6">
    
    <label class="md-nav__link" for="nav-4-6">
      Producción
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Producción
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../produccion/" title="Entornos de producción" class="md-nav__link">
      Entornos de producción
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../produccion/repositorios-controles-de-versiones/" title="Repositorios y SCV" class="md-nav__link">
      Repositorios y SCV
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../produccion/creando-repositorio-github/" title="Creando repositorio en Github" class="md-nav__link">
      Creando repositorio en Github
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../produccion/desplegar-proyecto-prueba/" title="Desplegar proyecto de prueba" class="md-nav__link">
      Desplegar proyecto de prueba
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      
    
      
    
      
    
      
    
      
    
  </ul>
</nav>

                  </div>
                </div>
              </div>
            

            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                
                  
                    <div class="course-offer" style="margin-bottom:25px;padding:0px 10px;">
                      <a href="https://www.udemy.com/course/curso-django-2-practico-desarrollo-web-python-3/?couponCode=E17DBAD5E52D963F824D" target="_blank">
                        <img src="/cdn/assets/django.png" style="width:100%;justify-self:center;align-self:center;"/>
                      </a>
                    </div>
                  
                

                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="creando-las-vistas-del-blog-2">Creando las vistas del Blog (2)<a class="headerlink" href="#creando-las-vistas-del-blog-2" title="Permanent link">&para;</a></h1>
<p>Para las categorías tenemos que aplicar una lógica diferente de la que hemos utilizado hasta ahora. Lo primero es idear una forma de mostrar cada categoría, digamos que cada una es independiente de las otras y tendrá sus propias entradas, así que tenemos que diferenciarlas en la vista. </p>
<p>En estos casos la lógica más simple es enviar al Path el id del objeto que queremos recuperar. En nuestro caso podemos hacerlo de esta forma:</p>
<p><code>blog/views.py</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Category</span>

<span class="k">def</span> <span class="nf">blog</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/blog.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;posts&#39;</span><span class="p">:</span><span class="n">posts</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">category</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">category_id</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre></div></p>
<p>Para configurar la URL simplemente añadiremos un parámetro <strong>category_id</strong>. Antes de Django 2.0 este proceso requería utilizar expresiones regulares, pero ahora gracias a la función <strong>path</strong> es mucho más sencillo, sólo debemos indicar el nombre del parámetro entre &lt;&gt; (más pequeño, más grande):</p>
<p><code>blog/urls.py</code>
<div class="highlight"><pre><span></span><code>    <span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
    <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

    <span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">blog</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;blog&quot;</span><span class="p">),</span>
        <span class="n">path</span><span class="p">(</span><span class="s1">&#39;category/&lt;category_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;category&quot;</span><span class="p">),</span>
    <span class="p">]</span>
</code></pre></div></p>
<p>Esto ya funcionará, pero por defecto <strong>category_id</strong> será una cadena y el campo id es un número entero. Podemos forzar la conversión a entero cambiándolo a:</p>
<div class="highlight"><pre><span></span><code><span class="n">path</span><span class="p">(</span><span class="s1">&#39;category/&lt;int:category_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;category&quot;</span><span class="p">),</span>
</code></pre></div>
<p>Sea como sea con esto añadimos dinamismo en la URL, de manera que podemos enviar un parámetro y nos será muy fácil recuperar la categoría, pero antes vamos a crear un template <strong>category.html</strong> como una copia de <strong>blog.html</strong>, sólo que en el título mostraremos el nombre de la categoría:</p>
<p><code>blog/templates/blog/category.html</code>
<div class="highlight"><pre><span></span><code>{% extends &#39;core/base.html&#39; %}

{% load static %}

{% block title %}{{category}}{% endblock %}

{% block content %}
    {% for post in posts %}
    <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;page-section cta&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-xl-9 mx-auto&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;cta-innerv text-center rounded&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;section-heading mb-5&quot;</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;section-heading-upper&quot;</span><span class="p">&gt;</span>
                            {{post.published}}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;section-heading-lower&quot;</span><span class="p">&gt;</span>
                            {{post.title}}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mb-0&quot;</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mx-auto d-flex img-fluid mb-3 mb-lg-0&quot;</span> 
                            <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{post.image.url}}&quot;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mb-0 mbt&quot;</span><span class="p">&gt;</span>{{post.content}}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mb-0 mbt&quot;</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;section-heading-under&quot;</span><span class="p">&gt;</span>
                            Publicado por <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>{{post.author}}<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>
                            en <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>
                        <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
    {% endfor %}
{% endblock %}
</code></pre></div></p>
<p>Ahora en la vista simplemente recuperamos la categoría utilizando el método get de objects, pasándole el campo que tiene usar como filtro:</p>
<p><code>blog/views.py</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Category</span>

<span class="k">def</span> <span class="nf">blog</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/blog.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;posts&#39;</span><span class="p">:</span><span class="n">posts</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">category</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">category_id</span><span class="p">):</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">category_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/category.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;category&#39;</span><span class="p">:</span><span class="n">category</span><span class="p">})</span>
</code></pre></div></p>
<p>Si intentamos acceder a una categoría, por ejemplo la de id 1 que es la primera que se crea, nos la devolverá correctamente:</p>
<div style="text-align:center;margin-top:25px"><img class="lazy" data-src="/cdn/django/webempresa/36.png" style="max-width:305px"/></div>

<p>Lo malo de utilizar directamente el método get, es que si no se encuentra un resultado Django devolverá un error:</p>
<div style="text-align:center;margin-top:25px"><img class="lazy" data-src="/cdn/django/webempresa/37.png" style="max-width:375px"/></div>

<p>Para evitar esta situación y devolver un error 404, el típico de no encontrado, podemos utilizar un shortcut llamado <strong>get_object_or_404</strong>:</p>
<p><code>blog/views.py</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Category</span>

<span class="k">def</span> <span class="nf">blog</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/blog.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;posts&#39;</span><span class="p">:</span><span class="n">posts</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">category</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">category_id</span><span class="p">):</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">category_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/category.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;category&#39;</span><span class="p">:</span><span class="n">category</span><span class="p">})</span>
</code></pre></div></p>
<p>Ahora si da error, por lo menos será un error dentro de la nomenclatura, ya que el 404 es el error que por norma hay que devolver si no se encuentra una página. Aunque con el Debug nos salga en forma de información:</p>
<div style="text-align:center;margin-top:25px"><img class="lazy" data-src="/cdn/django/webempresa/38.png" style="max-width:435px"/></div>

<p>Sea como sea ahora que tenemos la categoría podemos buscar sus entradas. Una forma rudimentaria de hacerlo es crear otra consulta para recuperar las entradas filtrando por categoría:</p>
<p><code>blog/views.py</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Category</span>

<span class="k">def</span> <span class="nf">blog</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/blog.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;posts&#39;</span><span class="p">:</span><span class="n">posts</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">category</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">category_id</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">category</span><span class="p">)</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">category_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/category.html&quot;</span><span class="p">,</span> 
        <span class="p">{</span><span class="s1">&#39;category&#39;</span><span class="p">:</span><span class="n">category</span><span class="p">,</span> <span class="s1">&#39;posts&#39;</span><span class="p">:</span><span class="n">posts</span><span class="p">})</span>
</code></pre></div></p>
<p>Esto ya nos funcionará:</p>
<div style="text-align:center;margin-top:25px"><img class="lazy" data-src="/cdn/django/webempresa/39.png" style="max-width:485px"/></div>

<p>Sin embargo como os decía es una forma rudimentaria de hacerlo, y eso es porque Django nos ofrece una forma mucho más fácil de hacerlo gracias a la capacidad de las relaciones de hacer consultas inversas.</p>
<p>Vamos a dejar la vista como la teníamos, únicamente pasando la categoría:</p>
<p><code>blog/views.py</code>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Category</span>

<span class="k">def</span> <span class="nf">blog</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/blog.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;posts&#39;</span><span class="p">:</span><span class="n">posts</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">category</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">category_id</span><span class="p">):</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">category_id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;blog/category.html&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;category&#39;</span><span class="p">:</span><span class="n">category</span><span class="p">})</span>
</code></pre></div></p>
<p>Ahora vamos a nuestro template, y en lugar de recorrer las entradas, que no tenemos porque no estamos pasando ninguna clave con este nombre, haremos la siguiente magia:</p>
<div class="highlight"><pre><span></span><code>{% for post in category.posts_set.all %}
</code></pre></div>
<p>Si comprobamos nuestra web veremos que increíblemente funciona:</p>
<div style="text-align:center;margin-top:25px"><img class="lazy" data-src="/cdn/django/webempresa/40.png" style="max-width:485px"/></div>

<p>¿Cómo puede ser? Pues fácil, las relaciones no sólo existen en un sentido, sino en ambos. Aprovechando ésto, Django implementa una sintaxis genérica con <strong>modelo.modeloRelacionado_set.all</strong> para consultar todas las instancias del modeloRelacionado con el modelo. </p>
<p>Su limitación es que sólo podemos tener una relación a dos bandas con el mismo nombre genérico, pero no es nada que no se pueda arreglar manualmente. Por ejemplo en nuestro caso, simplemente deberíamos ir a nuestro modelo Post y en la relación Many2Many categories, añadir un campo llamado <strong>related_name</strong>, nombre relacionado:</p>
<p><code>blog/models.py</code>
<div class="highlight"><pre><span></span><code><span class="n">categories</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="n">Category</span><span class="p">,</span>
    <span class="n">verbose_name</span><span class="o">=</span><span class="s2">&quot;Categorías&quot;</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s2">&quot;get_posts&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Una vez hecho, en lugar del <strong>_set.all</strong> podemos llamar a este nombre relacionado:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<div class="highlight"><pre><span></span><code>{% for post in category.get_posts.all %}
</code></pre></div>
<p>Ahora que tenemos la página de categorías vamos a finalizar la app añadiendo los enlaces que dejamos pendientes. Por desgracia ya no podemos utilizar el join porque necesitamos crear un enlace, así que vamos a usar un for:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;section-heading-under&quot;</span><span class="p">&gt;</span>
    Publicado por <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>{{post.author}}<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">em</span><span class="p">&gt;</span> en
    {% for category in post.categories.all %}
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;category&#39; category.id %}&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;link&quot;</span><span class="p">&gt;</span>
            {{category.name}}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    {% endfor %}
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></div>
<p><u>Antes de continuar no olvides añadir los enlaces también en el template <strong>blog.html</strong></u>.</p>
<p>Por último un pequeño detalle que quizá os pasará desapercibido, pero nuestro menú deja de resaltar BLOG cuando filtramos por una categoría:</p>
<div style="text-align:center;margin-top:25px"><img class="lazy" data-src="/cdn/django/webempresa/42.png" style="max-width:100px"/></div>

<p>Claro, la url ahora ya no es <strong>/blog/</strong> si no <strong>/blog/category/etc</strong>. Por suerte con un poco de ingenio podemos arreglarlo recortando los primeros caracteres del path con el filtro slice (que hace lo mismo que el slicing con las colecciones):</p>
<p><code>core/templates/core/base.html</code>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav-item px-lg-4 </span>
<span class="s">    {% if request.path|slice:&quot;</span><span class="na">:6</span><span class="err">&quot;</span> <span class="err">==</span> <span class="err">&#39;/</span><span class="na">blog</span><span class="err">/&#39;</span> <span class="err">%}</span><span class="na">active</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav-link text-uppercase text-expanded&quot;</span> 
        <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;blog&#39; %}&quot;</span><span class="p">&gt;</span>Blog<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></pre></div></p>
<p>Y con esto damos por finalizada esta pequeña app Blog.</p>
<hr />
<p><small class="edited"><i>Última edición: 31 de Octubre de 2018</i></small></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
      
      <a
        href="../crear-vistas-blog-1/"
        title="Creando vistas del Blog (1)"
        class="md-flex md-footer-nav__link md-footer-nav__link--prev"
        rel="prev"
      >
        <div class="md-flex__cell md-flex__cell--shrink">
          <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
        </div>
        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
          <span class="md-flex__ellipsis">
            <span class="md-footer-nav__direction">
              Anterior
            </span>
            Creando vistas del Blog (1)
          </span>
        </div>
      </a>
       
      <a
        href="../app-social-enlaces-redes/"
        title="App 5 [Social] Redes sociales"
        class="md-flex md-footer-nav__link md-footer-nav__link--next"
        rel="next"
      >
        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
          <span class="md-flex__ellipsis">
            <span class="md-footer-nav__direction">
              Siguiente
            </span>
            App 5 [Social] Redes sociales
          </span>
        </div>
        <div class="md-flex__cell md-flex__cell--shrink">
          <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
        </div>
      </a>
      
    </nav>
  </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        <!--<div class="md-footer-links__highlight">
          <a href="/comunidad/">Comunidad</a> · <a href="/politica-de-cookies/">Política de cookies</a> · <a href="/sobre-mi/">Sobre mí</a>
        </div>-->
        <div class="md-footer-copyright__highlight">
          2015 - 2021 &copy; Héctor Costa Guzmán (<u
            ><a
              href="https://creativecommons.org/licenses/by/4.0/deed.es"
              target="_blank"
              rel="nofollow"
              >Licencia CC BY 4.0</a
            ></u
          >)
        </div>
      </div>
       
<style>.md-footer-social__link {transition: 0.3s;}</style>
<div class="md-footer-social" style="font-size: 2.5rem; margin-top: -6px!important; padding: 0px!important; margin-bottom: -6px; overflow: hidden!important;">
  <a href="https://github.com/hcosta" title="Github" target="_blank" class="md-footer-social__link fa fa-github-square"></a>
  <a href="https://www.youtube.com/c/HektorProfe" title="Youtube" target="_blank" class="md-footer-social__link fa fa-youtube-square"></a>
  &nbsp;
</div>
 
    </div>
  </div>
  <script>
    (function (i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "https://www.google-analytics.com/analytics.js",
      "ga"
    );
    ga("create", "UA-124845547-1", "auto");
    ga("send", "pageview");
  </script>
</footer>
      
      <a id="anchorID" href="https://www.hektorprofe.net/" target="_blank"></a>
    </div>
  <script type='text/javascript' src="/assets/javascripts/application.a26c1c21.js"></script>
  <script src="/assets/javascripts/tingle.min.js"></script>
  <script type='text/javascript'>
    var modalButtonOnly = new tingle.modal({
        closeMethods: [],
        footer: true,
        stickyFooter: true
    });
    var btn5 = document.querySelector('.js-tingle-modal-5');

    // set content
    modalButtonOnly.setContent(`
    <div style="display:grid;grid-template-columns:32% 32% 32%;grid-column-gap: 1.33%;" id="supermodal">
      <div class="course">
        <a href="https://www.udemy.com/course/python-3-al-completo-desde-cero/?couponCode=2522EB41FF2C2033D661" target="_blank"><img src="/cdn/assets/python.png" style="width:100%;justify-self:center;align-self:center;"/></a>
      </div>
      <div class="course">
        <a href="https://www.udemy.com/course/curso-django-2-practico-desarrollo-web-python-3/?couponCode=E17DBAD5E52D963F824D" target="_blank"><img src="/cdn/assets/django.png" style="width:100%;justify-self:center;align-self:center;"/></a>
      </div>
      <div class="course">
        <a href="https://www.udemy.com/course/python-desarrollo-interfaces-graficas-qt-pyside/?couponCode=7C3871B53669F4129BE9" target="_blank"><img src="/cdn/assets/pyside.png" style="width:100%;justify-self:center;align-self:center;"/></a>
      </div>
    </div>`);

    modalButtonOnly.addFooterBtn('Cerrar', 'tingle-btn tingle-btn--default tingle-btn--pull-right', function(){
      modalButtonOnly.close();
    });

    app.initialize({version:"1.1.2",url:{base:"../../.."}})
    var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function t(t,e,n){var o=e._settings;!n&&i(t)||(C(o.callback_enter,t),R.indexOf(t.tagName)>-1&&(N(t,e),I(t,o.class_loading)),E(t,e),a(t),C(o.callback_set,t))}var e={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},n=function(t){return _extends({},e,t)},o=function(t,e){return t.getAttribute("data-"+e)},r=function(t,e,n){var o="data-"+e;null!==n?t.setAttribute(o,n):t.removeAttribute(o)},a=function(t){return r(t,"was-processed","true")},i=function(t){return"true"===o(t,"was-processed")},s=function(t,e){return r(t,"ll-timeout",e)},c=function(t){return o(t,"ll-timeout")},l=function(t){return t.filter(function(t){return!i(t)})},u=function(t,e){return t.filter(function(t){return t!==e})},d=function(t,e){var n,o=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(n)},f=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},_="undefined"!=typeof window,v=_&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),g=_&&"IntersectionObserver"in window,h=_&&"classList"in document.createElement("p"),b=_&&function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),m=function(t,e,n,r){for(var a,i=0;a=t.children[i];i+=1)if("SOURCE"===a.tagName){var s=o(a,n);p(a,e,s,r)}},p=function(t,e,n,o){n&&t.setAttribute(e,f(n,o))},y=function(t,e){var n=b&&e.to_webp,r=o(t,e.data_src),a=o(t,e.data_bg);if(r){var i=f(r,n);t.style.backgroundImage='url("'+i+'")'}if(a){var s=f(a,n);t.style.backgroundImage=s}},w={IMG:function(t,e){var n=b&&e.to_webp,r=e.data_srcset,a=t.parentNode;a&&"PICTURE"===a.tagName&&m(a,"srcset",r,n);var i=o(t,e.data_sizes);p(t,"sizes",i);var s=o(t,r);p(t,"srcset",s,n);var c=o(t,e.data_src);p(t,"src",c,n)},IFRAME:function(t,e){var n=o(t,e.data_src);p(t,"src",n)},VIDEO:function(t,e){var n=e.data_src,r=o(t,n);m(t,"src",n),p(t,"src",r),t.load()}},E=function(t,e){var n=e._settings,o=t.tagName,r=w[o];if(r)return r(t,n),e._updateLoadingCount(1),void(e._elements=u(e._elements,t));y(t,n)},I=function(t,e){h?t.classList.add(e):t.className+=(t.className?" ":"")+e},L=function(t,e){h?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},C=function(t,e){t&&t(e)},O=function(t,e,n){t.addEventListener(e,n)},k=function(t,e,n){t.removeEventListener(e,n)},x=function(t,e,n){O(t,"load",e),O(t,"loadeddata",e),O(t,"error",n)},A=function(t,e,n){k(t,"load",e),k(t,"loadeddata",e),k(t,"error",n)},z=function(t,e,n){var o=n._settings,r=e?o.class_loaded:o.class_error,a=e?o.callback_load:o.callback_error,i=t.target;L(i,o.class_loading),I(i,r),C(a,i),n._updateLoadingCount(-1)},N=function(t,e){var n=function n(r){z(r,!0,e),A(t,n,o)},o=function o(r){z(r,!1,e),A(t,n,o)};x(t,n,o)},R=["IMG","IFRAME","VIDEO"],S=function(e,n,o){t(e,o),n.unobserve(e)},M=function(t){var e=c(t);e&&(clearTimeout(e),s(t,null))},j=function(t,e,n){var o=n._settings.load_delay,r=c(t);r||(r=setTimeout(function(){S(t,e,n),M(t)},o),s(t,r))},D=function(t){return t.isIntersecting||t.intersectionRatio>0},T=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},U=function(t,e){this._settings=n(t),this._setObserver(),this._loadingCount=0,this.update(e)};return U.prototype={_manageIntersection:function(t){var e=this._observer,n=this._settings.load_delay,o=t.target;n?D(t)?j(o,e,this):M(o):D(t)&&S(o,e,this)},_onIntersection:function(t){t.forEach(this._manageIntersection.bind(this))},_setObserver:function(){g&&(this._observer=new IntersectionObserver(this._onIntersection.bind(this),T(this._settings)))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&C(this._settings.callback_finish)},update:function(t){var e=this,n=this._settings,o=t||n.container.querySelectorAll(n.elements_selector);this._elements=l(Array.prototype.slice.call(o)),!v&&this._observer?this._elements.forEach(function(t){e._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,n){t(e,this,n)},loadAll:function(){var t=this;this._elements.forEach(function(e){t.load(e)})}},_&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)d(t,n);else d(t,e)}(U,window.lazyLoadOptions),U});
    var myLazyLoad = new LazyLoad({elements_selector: ".lazy"});
    const mdMenuItems = document.querySelectorAll('.md-nav__link');
    function doNav(){ document.getElementById("main__list").innerHTML = '<li class="md-nav__item"><a class="md-nav__link" href="/cursos/">Cursos</a></li><li class="md-nav__item"><a class="md-nav__link" href="/blog/">Blog</a></li>';}
    for (i = 0; i < mdMenuItems.length; i++) {  var item = mdMenuItems[i]; var htmlstring = item.innerHTML; htmlstring = (htmlstring.trim) ? htmlstring.trim() : htmlstring.replace(/^\s+/,''); if (htmlstring == 'Servidor de encuentro') { item.parentNode.removeChild(item);continue; }  if (htmlstring == 'Política de Cookies') { item.parentNode.removeChild(item);continue; } if (htmlstring == 'Buscador') { item.parentNode.removeChild(item); continue; } }
    try { var topPos = document.querySelector('#md__active_link').offsetTop; document.querySelector('#md__sidebar__scroll').scrollTop = topPos - 60; } catch (err) {}
  </script>
  </body>
</html>