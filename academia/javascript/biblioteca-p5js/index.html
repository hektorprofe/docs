<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
    
    
    

    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Descubre el mundo de la programación desde cero a medida que la aplicas en todo tipo de experimentos visuales, prácticos y divertidos.">
      
      
        <link rel="canonical" href="https://docs.hektorprofe.net/academia/javascript/biblioteca-p5js/">
      
      
        <meta name="author" content="Héctor Costa Guzman">
      
      <link rel="shortcut icon" href="/favicon.ico">
    
    
      
        <title>Introducción a la biblioteca p5.js | Hektor Profe</title>
      
    
    <link rel="stylesheet" href="../../../assets/stylesheets/application.2.css">
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    
    <link rel="stylesheet" href="/assets/stylesheets/tingle.min.css">
<style>
@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("/assets/fonts/specimen/MaterialIcons-Regular.woff2") format("woff2"),url("/assets/fonts/specimen/MaterialIcons-Regular.woff") format("woff"),url("/assets/fonts/specimen/MaterialIcons-Regular.ttf") format("truetype")}
[data-md-color-primary="grey"] .md-header { background-color: #191A1D }
[data-md-color-primary="grey"] .md-tabs { background-color: #222831 }
.md-footer-nav { background-color: #222831; }
.md-footer-meta { background-color: #191A1D }
html [data-md-color-primary="grey"] .md-nav--primary .md-nav__title--site { background-color: #191A1D; }
.mini{ display: none; } .maxi{ display: block; }
.embed-container { position: relative; padding-bottom: 56.25%;height: 0; overflow: hidden; max-width: 100%; height: auto; margin-bottom: 0; } 
.embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
.md-nav__link:focus, .md-nav__link:hover { color: #018dc5; }
.headerlink{ color: #018dc5 !important; }
.md-footer-links__highlight a{ color: #777 !important; }
.md-footer-links__highlight a:hover{ color: #ddd !important; }
.visible{ display: inherit !important; }
/*.md-tabs { display: none !important; }*/
.nav__btn, .nav__logo{ transition: 0.3s; }
.nav__btn:hover{ color: #aaa; }
.nav__logo:hover{ opacity:.7; }
.nav__logo {max-width: 225px !important; }
img:not([src]){visibility:hidden;}
img.click{opacity: 0.96;box-shadow:rgb(79, 82, 92) -4px 4px}
img.click:hover{opacity: 1;box-shadow:rgb(10, 172, 237) -4px 4px}
.button { background-color: #36bf2d; border: none; color: white !important; padding: 20px 0px; text-align: center; text-decoration: none; display: block; font-size: 97%; width: 100%; font-weight: bold;}
.button:hover { background-color: #4CAF50; color: white; }
.animated.delay-1dot5s {animation-delay: 1.5s;}
.md-icon--search { display:inline-block!important}
a.headerlink{ display: none !important; }
small.edited { display: block; text-align: right; }
#cookie-bar { padding: 1.8rem 1.25rem !important; background: #191A1D  !important; box-shadow:rgba(0, 0, 0, 0.2) 4px 4px 8px 8px; }
#cookie-bar-prompt-logo{ display: none !important; }
div.my-img{text-align:center;margin-top:20px}
@media (max-width: 76.1875em){ .mini{ display: block; } .maxi{ display: none;} /*.md-nav__link[for="nav-1"] { display: none; }*/ }
@media (min-width: 1599.9px){ .md-header-nav__button.md-logo img { height: 37.5px !important; width: 220px; } }
@media (min-width: 1999.9px){ .md-header-nav__button.md-logo img { height: 40px !important; width: 240px; } }
/* Rectificación footer en paginas pequeñas de altura */
@media (max-width: 1599.8px){ .md-container {height: calc(100% - 48px)} }
@media (min-width: 1599.9px){ .md-container {height: calc(100% - 53px)} }
@media (min-width: 1999.9px){ .md-container {height: calc(100% - 58px)} }
@media only screen and (max-width: 959.9px) { .nav__logo { display: block !important; }} 
@media only screen and (min-width: 960px) and (max-width: 76.1875em) { .nav__logo { display: block !important; }} 
@media only screen and (min-width: 76.1875em) { .nav__logo { display: none !important; } } 
@media only screen and (max-width: 76.1875em) { .md-sidebar--primary { left: -26.2rem;; width: 26.2rem; }  [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary { -webkit-transform: translateX(26.2rem); transform: translateX(26.2rem); } [dir="rtl"] [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary { -webkit-transform: translateX(-26.2rem); transform: translateX(-26.2rem); } }
@media (min-width: 1219.9px){ #home__btn { display: none !important; } #cursos__btn{ color: white !important; } [data-md-color-primary="grey"] .md-nav__link--active{ color: rgba(0, 0, 0, 0.87); text-decoration: underline !important; } }
@media (min-width: 467.9px){ #discord__btn{ display: inline-block !important; } }
@media only screen and (min-width: 60em){ .md-search__input { background-color: rgb(53, 54, 56); } .md-search__input:hover { background-color: rgb(84, 87, 93); color: white; }}
@media (max-width: 1219.9px){ .md-header-nav__title{ padding: 0 1rem; } .nav__btn {display:none;} }
@media (max-width: 875.9px){ #cookie-bar-button{ margin-top: 20px !important; }}
@media (max-width: 719.9px){ #cookie-bar { padding: 3.25rem 1.25rem; }}
@media (max-width: 512.9px){ #cookie-bar { padding: 2rem 1.25rem; }}

.tingle-modal { font-size:18px !important;}
.tingle-modal-box{ width: 80%; max-width: 1100px; }
.tingle-btn--danger{ background: darkorange !important; }
.tingle-modal-box__content { padding: 3rem 2rem 3rem 3rem;}
@media (max-width: 540px){ .tingle-modal-box{ width: auto; } }
@media (max-width: 849px){ #supermodal{ grid-template-columns:100% !important; }}

.md-sidebar--secondary .md-sidebar__scrollwrap {max-height: calc(100% - 275px - 60px)}
@media (max-width: 1999.9px){.md-sidebar--secondary .md-sidebar__scrollwrap {max-height: calc(100% - 246px - 60px);margin-right:-1px;}}
@media (max-width: 1599.9px){.md-sidebar--secondary .md-sidebar__scrollwrap {max-height: calc(100% - 222px - 60px)}}

</style>
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="grey">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#introduccion-a-la-biblioteca-p5js" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header
  class="md-header"
  data-md-component="header"
  style="position: inherit !important"
>
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a
          href="/"
          title="Hektor Profe"
          class="md-header-nav__button md-logo"
          style="font-size: 0px"
        >
          <img
            src="/assets/images/logo.png"
            width="200px"
            height="35px"
            style="margin-top: -5px"
            alt="Hektor Profe"
            title="Hektor Profe"
          />
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label
          class="md-icon md-icon--menu md-header-nav__button"
          for="__drawer"
        ></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div
          class="md-flex__ellipsis md-header-nav__title"
          data-md-component="title"
          style="text-align: right"
        >
          <!-- https://fontawesome.com/v4.7.0/ -->
          <a 
            class="nav__btn" 
            href="https://www.hektorprofe.net/" 
            style="margin-left:0em;" 
            title="Cursos de Hektor Profe">
            Cursos
          </a>
          <a 
            class="nav__btn" 
            href="https://docs.hektorprofe.net/" 
            style="margin-left:1.4em;" 
            title="Documentos de Hektor Profe">
            Documentos
          </a>
          <a 
            class="nav__btn" 
            href="https://www.hektorprofe.net/portafolio/" 
            style="margin-left:1.4em;" 
            title="Portafolio de Hektor Profe">
            Portafolio
          </a>
          <a href="/"
            ><img
              class="nav__logo"
              src="/assets/images/logo.png"
              width="200px"
              height="35px"
              style="margin: 6px auto 0"
              alt="Hektor Profe"
              title="Hektor Profe"
          /></a>
        </div>
        <style>
          .md-sidebar[data-md-state="lock"] {
            top: 0rem !important;
          }
          .md-tabs {
            display: none !important;
          }
          .hde {
            display: inline-block;
          }
          .admonition.note > .superfences-tabs > label:hover,
          .headerlink {
            color: #018dc5 !important;
          }
          .admonition.info {
            font-size: 100%;
          }
          .admonition.info label {
            font-size: 91%;
          }
          .admonition.note > .admonition-title {
            display: none;
          }
          .image {
            text-align: center;
            margin-top: 25px;
          }
          .contenedor_youtube {
            position: relative !important;
            padding-bottom: 56.25% !important; /*panorámico*/
            padding-top: 0px !important;
            height: 0 !important;
            margin-top: -20px;
            margin-bottom: 25px;
          }
          .contenedor_youtube iframe {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
          }
        </style>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container" style="padding-top: 0px !important;">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list" id="top__tabs">
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
      </ul>
    </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container" style="padding-top: 8px !important;">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap" id="md__sidebar__scroll">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title" for="__drawer" style="padding:0 !important;max-height:5.5rem;"></label>
  
  <ul class="md-nav__list" id="main__list" data-md-scrollfix>
    
      
    
        <!-- comprobación extra -->
         
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Academia de programación
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Academia de programación
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../" title="Índice del archivo" class="md-nav__link">
      Índice del archivo
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../python/introduccion/" title="Python para principiantes" class="md-nav__link">
      Python para principiantes
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../python/poo-para-interfaces-graficas/" title="Python para interfaces gráficas" class="md-nav__link">
      Python para interfaces gráficas
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../python/proyecto-gestor-clientes/" title="Gestor de clientes con Python" class="md-nav__link">
      Gestor de clientes con Python
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../python/tutoriales/" title="Más tutoriales sobre Python" class="md-nav__link">
      Más tutoriales sobre Python
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../python/modulo-analitico-numpy/" title="Módulo analítico NumPy" class="md-nav__link">
      Módulo analítico NumPy
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../python/modulo-grafico-matplotlib/" title="Módulo gráfico Matplotlib" class="md-nav__link">
      Módulo gráfico Matplotlib
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../django/introduccion/" title="Django para principiantes" class="md-nav__link">
      Django para principiantes
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../django/api-rest-framework/" title="Server API pelis con Django Rest" class="md-nav__link">
      Server API pelis con Django Rest
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../django/tutoriales/" title="Más tutoriales sobre Django" class="md-nav__link">
      Más tutoriales sobre Django
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../introduccion/" title="JavaScript para principiantes" class="md-nav__link">
      JavaScript para principiantes
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../conversor-divisas/" title="Conversor de divisas en JS" class="md-nav__link">
      Conversor de divisas en JS
    </a>
  </li>

        
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Introducción a P5.js
      </label>
    
    <a href="./" title="Introducción a P5.js" class="md-nav__link md-nav__link--active" id="md__active_link">
      Introducción a P5.js
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-es-p5js" title="¿Qué es p5.js?" class="md-nav__link toc__link">
    ¿Qué es p5.js?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escribiendo-codigo" title="Escribiendo código" class="md-nav__link toc__link">
    Escribiendo código
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comentarios-de-codigo" title="Comentarios de código" class="md-nav__link toc__link">
    Comentarios de código
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mensajes-en-la-consola" title="Mensajes en la consola" class="md-nav__link toc__link">
    Mensajes en la consola
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mensajes-de-alerta" title="Mensajes de alerta" class="md-nav__link toc__link">
    Mensajes de alerta
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dibujando-figuras" title="Dibujando figuras" class="md-nav__link toc__link">
    Dibujando figuras
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-eje-de-coordenadas" title="El eje de coordenadas" class="md-nav__link toc__link">
    El eje de coordenadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-un-rectangulo" title="Dibujando un rectángulo" class="md-nav__link toc__link">
    Dibujando un rectángulo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colores-y-rellenos" title="Colores y rellenos" class="md-nav__link toc__link">
    Colores y rellenos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#escala-de-grises" title="Escala de grises" class="md-nav__link toc__link">
    Escala de grises
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-rgb" title="Código RGB" class="md-nav__link toc__link">
    Código RGB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rellenos-y-bordes" title="Rellenos y bordes" class="md-nav__link toc__link">
    Rellenos y bordes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-internas" title="Variables internas" class="md-nav__link toc__link">
    Variables internas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-tiempo-es-dinamico" title="El tiempo es dinámico" class="md-nav__link toc__link">
    El tiempo es dinámico
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables-mousex-y-mousey" title="Variables mouseX y mouseY" class="md-nav__link toc__link">
    Variables mouseX y mouseY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-el-lienzo" title="Dibujando el lienzo" class="md-nav__link toc__link">
    Dibujando el lienzo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definiendo-un-evento" title="Definiendo un evento" class="md-nav__link toc__link">
    Definiendo un evento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-propias" title="Variables propias" class="md-nav__link toc__link">
    Variables propias
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ciclo-de-vida-de-las-variables" title="Ciclo de vida de las variables" class="md-nav__link toc__link">
    Ciclo de vida de las variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetos" title="Objetos" class="md-nav__link toc__link">
    Objetos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valores-mapeados" title="Valores mapeados" class="md-nav__link toc__link">
    Valores mapeados
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valores-aleatorios" title="Valores aleatorios" class="md-nav__link toc__link">
    Valores aleatorios
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expresiones-logicas" title="Expresiones lógicas" class="md-nav__link toc__link">
    Expresiones lógicas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#condicion-if-else" title="Condición if-else" class="md-nav__link toc__link">
    Condición if-else
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#si-if" title="Si (if)" class="md-nav__link toc__link">
    Si (if)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#si-no-else" title="Si no (else)" class="md-nav__link toc__link">
    Si no (else)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#condiciones-multiples" title="Condiciones múltiples" class="md-nav__link toc__link">
    Condiciones múltiples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones-multiples" title="Relaciones múltiples" class="md-nav__link toc__link">
    Relaciones múltiples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bucles-while-y-for" title="Bucles while y for" class="md-nav__link toc__link">
    Bucles while y for
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bucle-while-for" title="Bucle while (for)" class="md-nav__link toc__link">
    Bucle while (for)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucle-for-para" title="Bucle for (para)" class="md-nav__link toc__link">
    Bucle for (para)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#while-vs-for" title="While vs for" class="md-nav__link toc__link">
    While vs for
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hora-de-divertirse" title="Hora de divertirse" class="md-nav__link toc__link">
    Hora de divertirse
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablero-de-ajedrez" title="Tablero de ajedrez" class="md-nav__link toc__link">
    Tablero de ajedrez
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dibujando-una-celda" title="Dibujando una celda" class="md-nav__link toc__link">
    Dibujando una celda
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-una-fila" title="Dibujando una fila" class="md-nav__link toc__link">
    Dibujando una fila
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-el-tablero" title="Dibujando el tablero" class="md-nav__link toc__link">
    Dibujando el tablero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pintando-una-fila" title="Pintando una fila" class="md-nav__link toc__link">
    Pintando una fila
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pintando-el-tablero" title="Pintando el tablero" class="md-nav__link toc__link">
    Pintando el tablero
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funciones" title="Funciones" class="md-nav__link toc__link">
    Funciones
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parametros-y-argumentos" title="Parámetros y argumentos" class="md-nav__link toc__link">
    Parámetros y argumentos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retorno-de-valores" title="Retorno de valores" class="md-nav__link toc__link">
    Retorno de valores
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clases" title="Clases" class="md-nav__link toc__link">
    Clases
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instancias" title="Instancias" class="md-nav__link toc__link">
    Instancias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-propiedad-this" title="La propiedad this" class="md-nav__link toc__link">
    La propiedad this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clases-en-ficheros" title="Clases en ficheros" class="md-nav__link toc__link">
    Clases en ficheros
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arreglos" title="Arreglos" class="md-nav__link toc__link">
    Arreglos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilizando-indices" title="Utilizando índices" class="md-nav__link toc__link">
    Utilizando índices
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acceso-con-indices" title="Acceso con índices" class="md-nav__link toc__link">
    Acceso con índices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acceso-sin-indices" title="Acceso sin índices" class="md-nav__link toc__link">
    Acceso sin índices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulando-arreglos" title="Manipulando arreglos" class="md-nav__link toc__link">
    Manipulando arreglos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anadir-elementos" title="Añadir elementos" class="md-nav__link toc__link">
    Añadir elementos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#borrar-elementos" title="Borrar elementos" class="md-nav__link toc__link">
    Borrar elementos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificar-elementos" title="Modificar elementos" class="md-nav__link toc__link">
    Modificar elementos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../nodejs/" title="Introducción a Node.js" class="md-nav__link">
      Introducción a Node.js
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../chat-heroku/" title="Chat online con Node.js" class="md-nav__link">
      Chat online con Node.js
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../cliente-nuxt/" title="Cliente API pelis en Nuxt.js" class="md-nav__link">
      Cliente API pelis en Nuxt.js
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../gnu-linux/ubuntu-server-web/" title="Configurar Ubuntu Server" class="md-nav__link">
      Configurar Ubuntu Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </ul>
</nav>

                  </div>
                </div>
              </div>
            

            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                
                  
                    <div class="course-offer" style="margin-bottom:25px;padding:0px 10px;">
                      <a href="https://www.hektorprofe.net/cupon/python" target="_blank">
                        <img src="/cdn/assets/python.png" style="width:100%;justify-self:center;align-self:center;"/>
                      </a>
                    </div>
                  
                

                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-es-p5js" title="¿Qué es p5.js?" class="md-nav__link toc__link">
    ¿Qué es p5.js?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escribiendo-codigo" title="Escribiendo código" class="md-nav__link toc__link">
    Escribiendo código
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comentarios-de-codigo" title="Comentarios de código" class="md-nav__link toc__link">
    Comentarios de código
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mensajes-en-la-consola" title="Mensajes en la consola" class="md-nav__link toc__link">
    Mensajes en la consola
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mensajes-de-alerta" title="Mensajes de alerta" class="md-nav__link toc__link">
    Mensajes de alerta
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dibujando-figuras" title="Dibujando figuras" class="md-nav__link toc__link">
    Dibujando figuras
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-eje-de-coordenadas" title="El eje de coordenadas" class="md-nav__link toc__link">
    El eje de coordenadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-un-rectangulo" title="Dibujando un rectángulo" class="md-nav__link toc__link">
    Dibujando un rectángulo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colores-y-rellenos" title="Colores y rellenos" class="md-nav__link toc__link">
    Colores y rellenos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#escala-de-grises" title="Escala de grises" class="md-nav__link toc__link">
    Escala de grises
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-rgb" title="Código RGB" class="md-nav__link toc__link">
    Código RGB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rellenos-y-bordes" title="Rellenos y bordes" class="md-nav__link toc__link">
    Rellenos y bordes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-internas" title="Variables internas" class="md-nav__link toc__link">
    Variables internas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-tiempo-es-dinamico" title="El tiempo es dinámico" class="md-nav__link toc__link">
    El tiempo es dinámico
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables-mousex-y-mousey" title="Variables mouseX y mouseY" class="md-nav__link toc__link">
    Variables mouseX y mouseY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-el-lienzo" title="Dibujando el lienzo" class="md-nav__link toc__link">
    Dibujando el lienzo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#definiendo-un-evento" title="Definiendo un evento" class="md-nav__link toc__link">
    Definiendo un evento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-propias" title="Variables propias" class="md-nav__link toc__link">
    Variables propias
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ciclo-de-vida-de-las-variables" title="Ciclo de vida de las variables" class="md-nav__link toc__link">
    Ciclo de vida de las variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetos" title="Objetos" class="md-nav__link toc__link">
    Objetos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valores-mapeados" title="Valores mapeados" class="md-nav__link toc__link">
    Valores mapeados
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valores-aleatorios" title="Valores aleatorios" class="md-nav__link toc__link">
    Valores aleatorios
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expresiones-logicas" title="Expresiones lógicas" class="md-nav__link toc__link">
    Expresiones lógicas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#condicion-if-else" title="Condición if-else" class="md-nav__link toc__link">
    Condición if-else
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#si-if" title="Si (if)" class="md-nav__link toc__link">
    Si (if)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#si-no-else" title="Si no (else)" class="md-nav__link toc__link">
    Si no (else)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#condiciones-multiples" title="Condiciones múltiples" class="md-nav__link toc__link">
    Condiciones múltiples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones-multiples" title="Relaciones múltiples" class="md-nav__link toc__link">
    Relaciones múltiples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bucles-while-y-for" title="Bucles while y for" class="md-nav__link toc__link">
    Bucles while y for
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bucle-while-for" title="Bucle while (for)" class="md-nav__link toc__link">
    Bucle while (for)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucle-for-para" title="Bucle for (para)" class="md-nav__link toc__link">
    Bucle for (para)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#while-vs-for" title="While vs for" class="md-nav__link toc__link">
    While vs for
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hora-de-divertirse" title="Hora de divertirse" class="md-nav__link toc__link">
    Hora de divertirse
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablero-de-ajedrez" title="Tablero de ajedrez" class="md-nav__link toc__link">
    Tablero de ajedrez
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dibujando-una-celda" title="Dibujando una celda" class="md-nav__link toc__link">
    Dibujando una celda
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-una-fila" title="Dibujando una fila" class="md-nav__link toc__link">
    Dibujando una fila
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dibujando-el-tablero" title="Dibujando el tablero" class="md-nav__link toc__link">
    Dibujando el tablero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pintando-una-fila" title="Pintando una fila" class="md-nav__link toc__link">
    Pintando una fila
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pintando-el-tablero" title="Pintando el tablero" class="md-nav__link toc__link">
    Pintando el tablero
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funciones" title="Funciones" class="md-nav__link toc__link">
    Funciones
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parametros-y-argumentos" title="Parámetros y argumentos" class="md-nav__link toc__link">
    Parámetros y argumentos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retorno-de-valores" title="Retorno de valores" class="md-nav__link toc__link">
    Retorno de valores
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clases" title="Clases" class="md-nav__link toc__link">
    Clases
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instancias" title="Instancias" class="md-nav__link toc__link">
    Instancias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-propiedad-this" title="La propiedad this" class="md-nav__link toc__link">
    La propiedad this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clases-en-ficheros" title="Clases en ficheros" class="md-nav__link toc__link">
    Clases en ficheros
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arreglos" title="Arreglos" class="md-nav__link toc__link">
    Arreglos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilizando-indices" title="Utilizando índices" class="md-nav__link toc__link">
    Utilizando índices
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acceso-con-indices" title="Acceso con índices" class="md-nav__link toc__link">
    Acceso con índices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acceso-sin-indices" title="Acceso sin índices" class="md-nav__link toc__link">
    Acceso sin índices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulando-arreglos" title="Manipulando arreglos" class="md-nav__link toc__link">
    Manipulando arreglos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anadir-elementos" title="Añadir elementos" class="md-nav__link toc__link">
    Añadir elementos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#borrar-elementos" title="Borrar elementos" class="md-nav__link toc__link">
    Borrar elementos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificar-elementos" title="Modificar elementos" class="md-nav__link toc__link">
    Modificar elementos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="introduccion-a-la-biblioteca-p5js">Introducción a la biblioteca p5.js<a class="headerlink" href="#introduccion-a-la-biblioteca-p5js" title="Permanent link">&para;</a></h1>
<div class="contenedor_youtube">
  <iframe id="odysee-iframe" width="560" height="315" src="https://odysee.com/$/embed/-Curso--Programacion-artistas-1/22528e173129f35a3b99444ddbe15453b32516af?r=3icueB68NV3UEFHyqs2QRfzRUeABmHDU" allowfullscreen></iframe>
</div>

<h2 id="que-es-p5js">¿Qué es p5.js?<a class="headerlink" href="#que-es-p5js" title="Permanent link">&para;</a></h2>
<p>Bienvenidos a esta introducción a la programación utilizando la biblioteca <strong>p5</strong>, cuyo propósito nos lo explican sus creadores en la página web <a href="https://p5js.org/es/">p5js.org</a>:</p>
<div class="highlight"><pre><span></span><code>[...] Se trata de una biblioteca creada con el objetivo de hacer la programación
accesible a artistas, diseñadores, educadores y principiantes; reinterpretando 
la web actual y ofreciendo un conjunto completo de funcionalidades para dibujar 
e interactuar con los componentes HTML5 del navegador, como por ejemplo 
textos, entradas de usuario, vídeos, cámara y sonidos.
</code></pre></div>
<p>En definitiva con ella se pueden dibujar líneas, figuras, colores, textos... Y esa es la razón por la que nos puede ayudar mucho a entender la programación; todos sabemos que una imagen vale más que mil palabras. </p>
<p>¿Os imagináis aprender conceptos como las variables, las condiciones o los bucles gráficamente? ¿Utilizando figuras geométricas? ¿Generando animaciones de esas mismas figuras para moverlas por la pantalla haciendo todo tipo de cosas? Pues de eso trata esta serie de cursos.</p>
<p>Para crear un proyecto con <strong>p5.js</strong> podemos hacerlo de dos formas:</p>
<ul>
<li><strong>A través del editor online</strong> en la dirección <a href="https://editor.p5js.org/">https://editor.p5js.org</a>.</li>
<li><strong>Utilizando un editor</strong> en vuestro propio ordenador siguiendo los pasos de la sección <a href="https://p5js.org/es/get-started/">Empezar</a> de la página oficial.</li>
</ul>
<p>Os recomiendo la primera opción a no ser que tengáis experiencia en desarrollo web, sólo hay que crear una cuenta donde pone <strong>Signup</strong> y ya podréis guardar vuestros proyectos en la nube de forma gratuita. </p>
<p>Si estamos identificados <a href="https://editor.p5js.org/">en el editor online</a> podemos crear un nuevo proyecto, asignarle un nombre (por ejemplo <em>01 - Hola mundo</em>) y guardarlo. Para recuperarlo lo haremos desde el apartado <strong>My Account</strong> &gt; <strong>My Sketches</strong>.</p>
<p>Un <strong>sketch</strong> es un bosquejo o dibujo, de ahí que el fichero principal de un proyecto en <strong>p5</strong> se llame <strong>sketch.js</strong>, indicando la extensión <strong>.js</strong> que el fichero contiene código en lenguaje JavaScript, pero no os preocupéis por eso.</p>
<p>Por ahora fijaos que por defecto este fichero <strong>sketch.js</strong> contiene un código:</p>
<p><code>01 - Hola mundo/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Todavía no sabemos para qué sirve pero pronto lo descubriremos, pinchad el botón superior para ejecutarlo, veréis que a la derecha se dibuja un cuadrado gris.</p>
<p>No os sintáis abrumados por estás instrucciones, al fin y al cabo este curso es para absolutos principiantes. Quiero que os enfoquéis en la traducción y significado de las palabras que aparecen:</p>
<ul>
<li><strong>function</strong> -&gt; función</li>
<li><strong>setup</strong> -&gt; preparar</li>
<li><strong>createCanvas</strong> -&gt; crear lienzo</li>
<li><strong>draw</strong> -&gt; dibujar</li>
<li><strong>background</strong> -&gt; fondo</li>
</ul>
<p>Si unimos estos términos utilizando nuestra lógica podemos entender que tenemos dos funciones o comandos:</p>
<ul>
<li><strong>setup</strong> para preparar el programa y crear un lienzo</li>
<li><strong>draw</strong> para dibujar o pintar un fondo en el lienzo</li>
</ul>
<p>La biblioteca <strong>p5</strong> es muy intuitiva y sabiendo un poco de inglés podemos hacernos una idea de lo que hacen todas las instrucciones. En este caso como podemos deducir se ha preparado un espacio para dibujar, un lienzo, en el cuál hemos dibujado el fondo con un color.</p>
<p>¿Ahora qué creéis que son los números que aparecen entre paréntesis en las instrucciones <strong>createCanvas</strong> y <strong>background</strong>? Probad a cambiarlos y veréis:</p>
<ul>
<li><strong>createCanvas(ancho, alto)</strong>: tamaño del lienzo</li>
<li><strong>background(color)</strong>: código del color</li>
</ul>
<p>Evidentemente todo esto no me lo estoy inventando yo, son los creadores de esta biblioteca lo que han programado estas instrucciones para que podamos utilizarlas de forma intuitiva. </p>
<p>Si queréis aprender más sobre las funcionalidades de <strong>p5</strong> podéis consultar la <a href="https://p5js.org/es/reference/">referencia oficial</a> que se encuentra perfectamente traducida al español, además os dejaré <a href="https://github.com/bmoren/p5js-cheat-sheet">una chuleta</a> muy útil con las instrucciones básicas de la biblioteca, aunque ésta sí se encuentra en inglés.</p>
<p>En fin, no le deis muchas vueltas porque a lo largo del curso veremos en profundidad estos conceptos y os iréis familiarizando con ellos poco a poco.</p>
<h2 id="escribiendo-codigo">Escribiendo código<a class="headerlink" href="#escribiendo-codigo" title="Permanent link">&para;</a></h2>
<p>Como el curso gira en torno a la biblioteca <strong>p5</strong> y ésta ha sido desarrollada en JavaScript, todo el código que vamos a escribir será en ese lenguaje de programación.</p>
<p>Sin embargo este no es el único lenguaje que existe, hay muchos otros, como C y Java, pasando por C++, Python o PHP por poner algunos ejemplos. Cada uno tiene sus pros y sus contras pero todos se fundamentan en unos conceptos básicos comunes, por eso <strong>es muy importante recordar siempre que la programación no se trata de memorizar sino de entender</strong>, porque independientemente del lenguaje que aprendas éste siempre te servirá como base para los demás.</p>
<p>Así que no perdáis el tiempo memorizando las instrucciones de este curso, siempre podéis repasar los ejemplos, la documentación o la chuleta que os déjé en la lección anterior. Vosotros centraros en entender lo mejor que podáis lo que hace cada instrucción.</p>
<p>Dicho lo cuál voy a enseñaros lo más básico para escribir código JavaScript, que por cierto, del lenguaje Java no tiene nada a parte del nombre.</p>
<h3 id="comentarios-de-codigo">Comentarios de código<a class="headerlink" href="#comentarios-de-codigo" title="Permanent link">&para;</a></h3>
<p>Ya expliqué detenidamente lo que es JavaScript en mi curso para principiantes, por eso me limitaré a comentar que es un lenguaje enfocado a los navagadores web y como todos tenemos un navegador no necesitamos instalar nada para utilizarlo.</p>
<p>Por ejemplo, vamos a empezar con los comentarios, una parte fundamental que nos sirve para explicar y detallar el código que escribimos. Hay dos formas de escribirlos, en una línea o en bloque:</p>
<p><code>02 - Escribiendo código/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="c1">// Este comentario ocupa una línea</span>
<span class="nx">Esto</span> <span class="nx">no</span> <span class="nx">es</span> <span class="nx">un</span> <span class="nx">comentario</span> <span class="nx">y</span> <span class="nx">dará</span> <span class="nx">error</span> <span class="nx">si</span> <span class="nx">lo</span> <span class="nx">ejecuto</span>

<span class="cm">/* Este comentario en bloque desactiva todo el código</span>
<span class="cm">function setup() {</span>
<span class="cm">  createCanvas(400, 400);</span>
<span class="cm">}</span>

<span class="cm">function draw() {</span>
<span class="cm">  background(220);</span>
<span class="cm">}</span>
<span class="cm">*/</span>
</code></pre></div></p>
<p>Durante el curso yo no voy a poner comentarios en el código, pero os animo a que vosotros sí lo hagáis con vuestras propias palabras en las partes que os cuesten más de entender.</p>
<h3 id="mensajes-en-la-consola">Mensajes en la consola<a class="headerlink" href="#mensajes-en-la-consola" title="Permanent link">&para;</a></h3>
<p>Escribir código es una tarea opaca por naturaleza y la única forma de ver si funciona es a base de prueba y error, por eso algunas veces necesitaremos mostrar valores y textos que nos confirmen que se ejecutan determinados códigos.</p>
<p>Una forma de hacerlo es a través de la consola que encontraremos en la parte inferior del editor, así como en las <strong>Hrramientas para desarrolladores</strong> que suelen tener los navegadores.</p>
<p>Por ejemplo podemos imprimir un mensaje en la consola justo antes de crear el canvas y otro luego utilizando la instrucción <strong>print</strong> que tiene <strong>p5</strong>: </p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Ahora se creará el canvas&quot;</span><span class="p">)</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Por cierto, algunos programadores ponen el punto y coma al final de una instrucción por influencia de otros lenguajes o porque les ayuda a identificar mejor las líneas, pero en JavaScript no es obligatorio su uso.</p>
<h3 id="mensajes-de-alerta">Mensajes de alerta<a class="headerlink" href="#mensajes-de-alerta" title="Permanent link">&para;</a></h3>
<p>Otra forma de mostrar mensajes es a través de las alertas del navegador, son ventanitas emergentes que aparecen en medio de la pantalla. Lo malo que tienen es que bloquean el código hasta que se confirman. Se utilizan con la instrucción <strong>alert</strong> de JavaScript:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Ahora se creará el canvas&quot;</span><span class="p">)</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Iremos practicando estos conceptos a lo largo del curso así que pasemos a algo más interesante.</p>
<h2 id="dibujando-figuras">Dibujando figuras<a class="headerlink" href="#dibujando-figuras" title="Permanent link">&para;</a></h2>
<p>Por fin ha llegado el momento que todos estábamos esperando, la hora de meter las manos en la masa y empezar a dibujar en ese lienzo que nos proporciona <strong>p5</strong>.</p>
<p>Tenemos multitud de instrucciones para dibujar en nuestro lienzo, vamos a ver algunas de ellas en <a href="https://p5js.org/es/reference/">la referencia</a> de <strong>p5</strong>. Empecemos por algo tan sencillo como una línea con la función <strong>line()</strong>.</p>
<p>En la documentación nos dan algunos ejempos sobre cómo utilizar esta instrucción, básicamente se tienen que indicar dos puntos dentro del eje de coordenadas del lienzo para dibujar una línea de un punto al otro... Pero un momento, ¿qué demonios es un eje de coordenadas? Tranquilos, que ahora os lo explico muy rápidamente.</p>
<h3 id="el-eje-de-coordenadas">El eje de coordenadas<a class="headerlink" href="#el-eje-de-coordenadas" title="Permanent link">&para;</a></h3>
<p>Un eje de coordenadas es un sistema donde podemos determinar la posición de puntos y objetos geométricos. En nuestro caso tenemos un canvas con una anchura y altura de 400 píxeles que nos sirve como base, considerando que su esquina superior izquierda es el punto origen con coordenada (0, 0) haciendo referencia a los píxeles 0 y 0 en los ejes X (ancho) e Y (alto) respectivamente. Por otra parte sabiendo que el canvas hace 400x400, el punto en su esquina inferior derecha se encontraría ni más ni menos que en la coordenada (400, 400). </p>
<p>Sabiendo todo esto lo que nos está pidiendo la función <strong>line()</strong> son los valores de la coordenada X e Y del punto donde empezará la recta (x1, y1) y la coordenada donde finalizará (x2, y2):</p>
<p><code>03 - Figuras/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="c1">// line(0, 400, 400, 0);</span>
  <span class="c1">// line(0, 200, 400, 200);</span>
  <span class="c1">// line(200, 0, 200, 400);</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="dibujando-un-rectangulo">Dibujando un rectángulo<a class="headerlink" href="#dibujando-un-rectangulo" title="Permanent link">&para;</a></h3>
<p>Sabiendo cómo se dibujan rectas podríamos dibujar cualquier polígono, pero <strong>p5</strong> nos proporciona funciones para ahorrarnos trabajo. Por ejemplo para dibujar un rectángulo podemos utilizar la función <strong>rect()</strong> que nos pide una coordenada inicial y luego una anchura y altura para el rectángulo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Este rectángulo o más bien cuadrado ocupa una cuarta parte del lienzo. ¿Qué pasaría si luego dibujamos otro cuadrado que ocupe todo el lienzo?</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Pues como véis se dibuja encima del pequeño haciéndolo desaparecer. Esto nos enseña que cuando dibujamos en el canvas, las formas van quedando abajo como por capas. Si queremos ver ambos cuadrados en el lienzo, entonces tendremos que dibujar primero el grande y luego el pequeño:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Con esto es suficiente para empezar, si queréis aprender más por vuestra cuenta recordad que <a href="https://p5js.org/es/reference/">en la referencia</a> tenéis todo lo necesario.</p>
<h2 id="colores-y-rellenos">Colores y rellenos<a class="headerlink" href="#colores-y-rellenos" title="Permanent link">&para;</a></h2>
<p>¿Qué sería del arte sin los colores? <strong>p5</strong> nos ofrece un montón de instrucciones para manejar colores, vamos a introducirnos en el tema con las más básicas, sin embargo para entender bien cómo se utilizan los colores tenemos que aprender antes qué es la escala de grises y el código RGB.</p>
<h3 id="escala-de-grises">Escala de grises<a class="headerlink" href="#escala-de-grises" title="Permanent link">&para;</a></h3>
<p>Empecemos un proyecto vacío y vamos a centrarnos en ese fondo que por defecto es de color gris:</p>
<p><code>04 - Colores/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<p>El número 220 que nos aparece por defecto es un valor numérico que hace referencia a un color en una escala de grises. En esa escala el 0 es el color negro y el 255 representa el blanco. Los valores intermedios determinan la intensidad de color entre el negro y el blanco, así que como resultado tenemos 256 colores (8 bits) en la escala de grises contando el cero.</p>
<h3 id="codigo-rgb">Código RGB<a class="headerlink" href="#codigo-rgb" title="Permanent link">&para;</a></h3>
<p>Ahora bien, si en lugar de grises queremos manejar colores reales, tenemos a nuestra disposición el código RGB, donde RGB significan Rojo, Verde y Azul. Utilizando este código, con 256 posibilidades para cada color, el 0 representa la mínima intensidad del color y 255 la máxima. De esta forma se pueden mezclar entre ellos 256x256x256 (24 bits) de colores diferentes. ¿Os suena el concepto de True Color y los 16 millones de colores? Pues esa es la cantidad de colores posibles que se pueden manejar con el código RGB. Veámoslo con unos ejemplos.</p>
<p>Si queremos que el lienzo sea de un color en su máxima intensidad podemos establecer uno de los colores a 255 y los otros dos a 0:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="c1">// background(0, 255, 0);</span>
  <span class="c1">// background(0, 0, 255);</span>
<span class="p">}</span>
</code></pre></div>
<p>Lo curioso es que estableciendo la misma profundidad en los tres colores podemos simular la escala de grises:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="c1">// background(255, 255, 255);</span>
<span class="p">}</span>
</code></pre></div>
<p>Sobra decir que para conseguir el color que queramos tendremos que mezclar estos tres, ¿cómo conseguimos el código? Pues simplemente podemos mirar en internet, buscando <a href="https://www.google.com/search?q=colorpicker">en el propio Google</a> la palabra <strong>colorpicker</strong> nos aparecerá una de esas tablas para encontrar el código de cualquier color.</p>
<h3 id="rellenos-y-bordes">Rellenos y bordes<a class="headerlink" href="#rellenos-y-bordes" title="Permanent link">&para;</a></h3>
<p>Pintar el lienzo está muy bien, ¿pero qué hay de las figuras? <strong>p5</strong> nos da la posibilidad de pintar no sólo el interior de nuestras figuras sino también sus bordes.</p>
<p>Para entender cómo funciona esta característica tenéis que sentiros como verdaderos artistas, porque decidme vosotros, ¿qué hace un artista antes de ponerse a pintar? Pues está claro, elegir el color y untar en él su pincel.</p>
<p>Nosotros tenemos que usar la misma lógica, justo antes de dibujar una figura vamos a establecer un color para pintarla, eso lo haremos con la instrucción <strong>fill()</strong> que significa rellenar, mirad:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>De la misma forma funciona la función <strong>stroke()</strong>, permitiéndonos establecer el color del borde la figura que vamos a dibujar, siendo éste por defecto negro y con un tamaño de 1 píxel:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Si queremos establecer el tamaño del borde necesitaremos utilizar otra instrucción, <strong>strokeWeight()</strong>, a la que indicaremos el tamaño del borde en píxeles:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">strokeWeight</span><span class="p">(</span><span class="mf">20</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Al establecer estas opciones para el relleno y los bordes todas las demás figuras que dibujemos también las utilizarán:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">strokeWeight</span><span class="p">(</span><span class="mf">20</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Aquí necesitaremos sentirnos como verdaderos pintores, cambiando el color de relleno y de borde antes de dibujar cada figura:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">strokeWeight</span><span class="p">(</span><span class="mf">20</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>

  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Por último si en algún momento queremos desactivar el relleno o el borde podemos hacerlo con <strong>noFill()</strong> y <strong>noStroke()</strong> respectivamente, ambas funciones no requieren ningún valor y os las podéis imaginar como cuando el pintor limpia su pincel, por lo que si dibujamos algún contenido después de ejecutarlas no se verá nada en el lienzo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">strokeWeight</span><span class="p">(</span><span class="mf">20</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">);</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">);</span>

  <span class="nx">noFill</span><span class="p">();</span>
  <span class="nx">noStroke</span><span class="p">();</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="variables-internas">Variables internas<a class="headerlink" href="#variables-internas" title="Permanent link">&para;</a></h2>
<p>En esta lección vamos a introducir uno de los conceptos fundamentales de la programación: las variables. Pero antes de definir lo que es una variable, pensemos en lo que hemos estado haciendo y qué nos falta.</p>
<p>Hasta ahora hemos dibujado diferentes figuras en un lienzo utilizando las funciones de <strong>p5</strong>. Estas figuras son estáticas, aparecen en el lienzo tal como las definimos y no cambian a no ser que modifiquemos el código y lo volvamos a ejecutar. </p>
<p>Sin embargo los programas no suelen funcionar de esa forma, normalmente en ellos realizamos un conjunto de acciones que empieza por abrir el programa y esperar a que carguen los componentes gráficos para interactuar con ellos. Luego ya nos ponemos a presionar botones y hacer clic en diferentes lugares para que el programa haga lo que necesitamos.</p>
<p>Todas estas acciones componen lo que se conoce como el flujo del programa y ese flujo no existiría si no fuera por algo vital: el tiempo. </p>
<h3 id="el-tiempo-es-dinamico">El tiempo es dinámico<a class="headerlink" href="#el-tiempo-es-dinamico" title="Permanent link">&para;</a></h3>
<p>Así es, lo que no estamos teniendo en cuenta en nuestros ejemplos es que el tiempo fluye y esa es la clave para entender la necesidad de las variables y su capacidad para añadir dinamismo en los programas.</p>
<p>Volvamos a dibujar alguna forma en el lienzo para entender esta idea:</p>
<p><code>05 - Variables sistema/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Igual que hemos venido haciendo hasta ahora, al ejecutar el código tendremos nuestro lienzo con una figura, todo muy estático y lógico, pues hemos imaginado que somos pintores dibujando sobre un lienzo. Primero preparamos el lienzo y luego dibujamos en él las formas que queremos, incluso podemos ajustar préviamente colores para los rellenos y bordes de las figuras.</p>
<p>Sin embargo recordad que nos falta algo que no hemos tenido en cuenta: el tiempo.</p>
<p>¿Y si os dijera que este lienzo no se dibuja únicamente una vez? </p>
<p>Vamos a hacer uso por un momento de aquella instrucción que muestra mensajes en la pantalla y vamos a utilizarla en la función <strong>draw</strong> (dibujar) donde tenemos las instrucciones que crean la figura:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Voy a crear el canvas&quot;</span><span class="p">)</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Voy a dibujar en el canvas&quot;</span><span class="p">)</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Si ejecutamos este código, veremos como aparece una sola vez el texto "Voy a crear el canvas" pero innumerables veces "Voy a dibujar en el canvas".</p>
<p>Efectivamente, la función <strong>draw()</strong> y todo su contenido no es algo estático como la preparación del lienzo, sino que es dinámico y se ejecuta a lo largo del tiempo, concretamente unas 30 veces por segundo. Esta cantidad se conoce como fotogramas por segundo.</p>
<p>¿Pero si <strong>draw()</strong> es dinámica por qué percibimos su resultado como algo estático? Pues porque ese resultado nunca cambia, estamos dibujando las figuras en posiciones y colores constantes que no varían.</p>
<p>En otras palabras, si conseguimos alterar el contenido de <strong>draw</strong> para que su resultado cambie, entonces conseguiremos captar su dinamismo. ¿Cómo? Pues por ejemplo modificando las posiciones y colores de las figuras a lo largo del tiempo. ¿Y eso cómo se consigue? Pues ni más ni menos que utilizando valores variables, ahí tenemos nuestra respuesta.</p>
<h3 id="variables-mousex-y-mousey">Variables mouseX y mouseY<a class="headerlink" href="#variables-mousex-y-mousey" title="Permanent link">&para;</a></h3>
<p>La biblioteca <strong>p5</strong> cuenta con algunas variables internas que podemos utilizar para conseguir información, dos de las más interesantes son <strong>mouseX</strong> y <strong>mouseY</strong>. Estas variables contienen las coordenadas X e Y donde se encuentra el puntero del ratón sobre el lienzo respecto al punto de origen (0, 0). </p>
<p>Si en lugar de mostrar por pantalla el texto "Voy a dibujar el canvas" mostramos esas variables veremos sus valores:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">)</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>El hecho de que estos dos valores vayan cambiando su valor es la prueba de que son valores variables.</p>
<p>Si en lugar de dibujar nuestra redonda en el punto estático (200, 200) lo hiciéramos en las coordenadas del ratón, ¿qué creéis que ocurriría? Vamos a intentarlo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>¡Pues ahí lo tenemos! Una redonda dinámica dibujándose bajo nuestro ratón, cuya posición es variable porque sus cooredenadas son <strong>valores variables</strong>.</p>
<h3 id="dibujando-el-lienzo">Dibujando el lienzo<a class="headerlink" href="#dibujando-el-lienzo" title="Permanent link">&para;</a></h3>
<p>Antes de acabar esta reveladora lección, quiero experimentar un poco más con vosotros.</p>
<p>Hasta ahora lo primero que hemos hecho al dibujar sobre el lienzo es empezar llenando el fondo de color gris usando la función <strong>background</strong>, pero ¿qué ocurriría si no lo rellenamos? Vamos a pintar una redonda muy pequeña sobre el lienzo pero pintando el fondo sola una vez durante su preparación:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mf">15</span><span class="p">,</span> <span class="mf">15</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Al hacer esto lo que hemos conseguido es que en cada fotograma se dibuja una pequeña redonda, pero como no pintamos de nuevo el fondo para vaciar su contenido, se conservan los dibujos de los anteriores fotogramas generando el efecto de que dibujamos con el ratón.</p>
<p>El problema es que muy rápidamente llenamos todo el lienzo y es imposible seguir dibujando, así que no voy a desaprovechar la oportunidad de explicaros lo que es un evento y cómo podemos utilizarlo para vaciar nuestro lienzo.</p>
<h3 id="definiendo-un-evento">Definiendo un evento<a class="headerlink" href="#definiendo-un-evento" title="Permanent link">&para;</a></h3>
<p>Ya sabemos que los programas informáticos se ejecutan indefinidamente en el tiempo y eso es lo que les añade dinamismo. Una de las formas de manejar el dinamismo es a través de variables que cambian su valor, pero hay otras formas y una de ellas son los eventos.</p>
<p>Imaginémonos un evento como una interacción que sudece mientras el programa está en marcha, por ejemplo cuando se presiona un botón.</p>
<p>Presionar un botón es un evento interactivo que realiza el usuario y es otra forma de añadir dinamismo. Como programadores podemos capturar esos eventos y ejecutar instrucciones para realizar diferentes tareas.</p>
<p>El ejemplo más sencillo para ilustrar esto es capturar el evento clic del ratón y dibujar el fondo del lienzo para simular que vaciamos su contenido, eso se haría así:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mf">15</span><span class="p">,</span> <span class="mf">15</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Como siempre todas estas funcionalidades y variables internas las encontráréis perfectamente documentadas en la <a href="https://p5js.org/es/reference/">referencia</a> de <strong>p5</strong>.</p>
<h2 id="variables-propias">Variables propias<a class="headerlink" href="#variables-propias" title="Permanent link">&para;</a></h2>
<p>En la lección anterior introducimos las variables, el concepto más importante de la programación, ya que gracias a ellas podemos almacenar valores que cambian a lo largo del tiempo y conseguir así crear programas dinámicos. </p>
<p>Vimos cómo utilizar dos variables internas de <strong>p5</strong> que nos dicen las coordenadas del cursor: <strong>mouseX</strong> y <strong>mouseY</strong>, pero el verdadero potencial de las variables no se limita a usar las que ya están creadas sino a que podemos crear nuestras propias variables.</p>
<h3 id="ciclo-de-vida-de-las-variables">Ciclo de vida de las variables<a class="headerlink" href="#ciclo-de-vida-de-las-variables" title="Permanent link">&para;</a></h3>
<p>Una variable es un espacio en la memoria del dispositivo donde podemos almacenar información en forma de datos, como por ejemplo números y textos. Para facilitar el acceso a ese espacio le damos un nombre y ese es ni más ni menos que el nombre de la variable, cuyo proceso de creación se denomina <strong>declaración</strong>.</p>
<p>La forma más sencilla de declarar una variable en JavaScript es haciendo uso de la instrucción <strong>var</strong>. Veamos un ejemplo creando dos variables para substituir la posición donde dibujamos una figura en el lienzo. Podemos declararlas al principio de un <strong>sketch</strong>:</p>
<p><code>06 - Variables propias/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circuloX</span><span class="p">;</span>  <span class="c1">// circulo_x</span>
<span class="kd">var</span> <span class="nx">circuloY</span><span class="p">;</span>  <span class="c1">// circulo_y</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Recordad que no podemos darle cualquier nombre a una variable, hay una serie de palabras reservadas que no podemos utilizar, si utilizáis alguna os dará un error de tipo <strong>SyntaxError: Unexpected token</strong> al ejecutar el código. Además no pueden contener espacios en los nombres, por eso suelen separarse las palabras con mayúsculas al principio de cada una menos la primera, esto se conoce como notación <strong>camelCase</strong>. Otra práctica común es separar las palabras con barras bajas haciendo uso de la notación <strong>snake_case</strong>.</p>
<p>Sea como sea ya tenemos nuestras variables declaradas pero todavía no tienen ningún valor, tenemos que asignarles algún dato para poder utilizarlas y este proceso se denomina <strong>inicialización</strong>.</p>
<p>Podríamos darle las posiciones del centro del lienzo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circuloX</span> <span class="o">=</span> <span class="mf">200</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">circuloY</span> <span class="o">=</span> <span class="mf">200</span><span class="p">;</span>
</code></pre></div>
<p>Ya tenemos las variables declaradas e inicializadas, sólo no falta <strong>hacer uso</strong> de ellas. ¿Os imagináis cómo? Pues está claro, substituyéndolas por los variables internas <strong>mouseX</strong> y <strong>mouseY</strong>: </p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circuloX</span><span class="p">,</span> <span class="nx">circuloY</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora viene la parte divertida y es que por defecto nuestras variables tienen un valor que no cambia, pero nosotros podemos modificarlo de muchas formas. Por ejemplo, podemos sumar una cantidad a <strong>circuloX</strong> cada vez que detectemos un evento de clic haciendo referencia:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">circuloX</span> <span class="o">=</span> <span class="nx">circuloX</span> <span class="o">+</span> <span class="mf">5</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Interesante verdad? ¿Y si este incremento lo hacemos dentro de la función <strong>draw</strong> que se ejecuta varias veces qué creéis que pasará?</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circuloX</span><span class="p">,</span> <span class="nx">circuloY</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="nx">circuloX</span> <span class="o">=</span> <span class="nx">circuloX</span> <span class="o">+</span> <span class="mf">5</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>¡Pues hemos creado una animación que mueve la figura! Dependiendo de cómo ajustemos estos valores podemos crear diferentes efectos, por ejemplo una diagonal hacia abajo a la derecha partiendo desde la esquina superior izquierda:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circuloX</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">circuloY</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circuloX</span><span class="p">,</span> <span class="nx">circuloY</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="nx">circuloX</span> <span class="o">=</span> <span class="nx">circuloX</span> <span class="o">+</span> <span class="mf">1</span><span class="p">;</span>
  <span class="nx">circuloY</span><span class="o">=</span> <span class="nx">circuloY</span> <span class="o">+</span> <span class="mf">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Como véis las variables son la clave para añadir dinamismo a un programa y en nuestro caso sirven para generar el efecto de movimiento de la figura, sin duda un ejemplo muy ilustrativo de su importancia.</p>
<h2 id="objetos">Objetos<a class="headerlink" href="#objetos" title="Permanent link">&para;</a></h2>
<p>Ahora que sabemos cómo crear y utilizar variables vamos a introducir el concepto de objetos.</p>
<p>Volvamos al ejemplo donde dibujamos un círculo en el lienzo utilizando algunas variables para controlar su tamaño y posición:</p>
<p><code>07 - Objetos/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circuloX</span> <span class="o">=</span> <span class="mf">100</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">circuloY</span> <span class="o">=</span> <span class="mf">100</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">circuloD</span> <span class="o">=</span> <span class="mf">50</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circuloX</span><span class="p">,</span> <span class="nx">circuloY</span><span class="p">,</span> <span class="nx">circuloD</span><span class="p">,</span> <span class="nx">circuloD</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Esta forma es correcta pero si os lo paráis a pensar da la sensación de que estas variables están desconectadas entre ellas. Sí, tenemos la palabra <strong>circulo</strong> delante de cada una pero no se entienden como que las tres formen parte de algo único como sería el círculo.</p>
<p>Los objetos son unas estructuras que nos permiten hacer eso, definir entidades que cuentan con sus propias variables internas, conocidas como propiedades.</p>
<p>En otras palabras, podríamos declarar una nueva variable llamada <strong>circulo</strong> que contenga las propiedades <strong>x</strong>, <strong>y</strong> y <strong>d</strong> de diámetro:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// var circuloX = 100;</span>
<span class="c1">// var circuloY = 100;</span>
<span class="c1">// var circuloD = 50;</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span>
<span class="p">}</span>
</code></pre></div>
<p>Como véis esta es la sintaxis para crear un objeto con esas tres propiedades, sin embargo nos falta inicializar su valopres y eso lo haremos con la notación en clave y valor, separando las propiedades de su valores con dos puntos:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span>
  <span class="nx">y</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span>
  <span class="nx">d</span><span class="o">:</span> <span class="mf">50</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Os imagináis como podemos hacer referencia a esas propiedades para utilizarlas en la función <strong>draw</strong>?</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Verdad que en forma de propiedades las tres variables transmiten la sensación de trabajar en conjunto? </p>
<p>Así pues para animar nuestro círculo podríamos hacerlo incrementando sus propiedades <strong>x</strong> e <strong>y</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">)</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mf">1</span>  <span class="c1">// circulo.x = circulo.x + 1</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mf">1</span>  <span class="c1">// circulo.y = circulo.y + 1</span>
<span class="p">}</span>
</code></pre></div>
<p>Sin duda los límites de lo que podemos crear están en nuestra imaginación y por eso os animo a hacer vuestros propios experimentos. Recordad que tenéis la referencia en español donde encontraréis más instrucciones y ejemplos.</p>
<h2 id="valores-mapeados">Valores mapeados<a class="headerlink" href="#valores-mapeados" title="Permanent link">&para;</a></h2>
<p>Con lo que sabemos ya podríamos pasar a la siguiente sección sin problemas, pero antes quiero compartir con vosotros un par de funciones interesantes que nos proporciona <strong>p5</strong>, seguro que se os ocurrirán unas cuantas formas de aplicarlas en vuestros experimentos.</p>
<p>Vamos a empezar por la función <strong>map()</strong> cuyo objetivo es ni más ni menos que mapear valores.</p>
<p>¿Qué significa mapear? Pues en nuestro caso se trata de automatizar reglas de tres, ahora lo veréis.</p>
<p>Vamos a partir del siguiente <strong>sketch</strong>:</p>
<p><code>08 - Mapeo/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mf">255</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">fill</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Típico, un círculo rojo en el centro del lienzo.</p>
<p>Ya sabemos que un color tiene 256 intensidades siendo el 0 la mínima y el 255 la máxima.</p>
<p>Si dividimos 256/2 para conseguir la intensidad media nos daría 128 ¿verdad? Por tanto una intensidad del 50% es 128. En esta escala en tantos por ciento tenemos que 100% es el 255, 50% el 128 y 0% el 0. Siguiendo este patrón lo que hace la función de mapeado <strong>map</strong> es conseguir los resultados haciendo una regla de tres en función de dos conjuntos de valores mínimos y máximos.</p>
<p>Por ejemplo, si quisiéramos un 37% de intensidad podríamos hacer lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mf">255</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="nx">map</span><span class="p">(</span><span class="mf">37</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">)</span>
  <span class="nx">fill</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Se entiende el concepto? Ahora la parte divertida es que podemos hacer esa cantidad proporcional a lo que queramos, por ejemplo la altura del lienzo y la posición del cursor en su eje Y:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mf">255</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="nx">map</span><span class="p">(</span><span class="nx">mouseY</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">400</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">)</span>
  <span class="nx">fill</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>¡Interesante! Vamos a añadir un par más de círculos con colores verde y azul a ver como queda:
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mf">255</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="nx">map</span><span class="p">(</span><span class="nx">mouseY</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">400</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">255</span><span class="p">)</span>
  <span class="nx">fill</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">300</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="valores-aleatorios">Valores aleatorios<a class="headerlink" href="#valores-aleatorios" title="Permanent link">&para;</a></h2>
<p>Por último en esta lección vamos a introducir la función <strong>random</strong> o aleatoria en español, que permite como podéis suponer, generar valores aleatorios. </p>
<p>Esta función toma un valor mínimo y otro máximo para generar un valor aleatorio entre ambos:</p>
<p><code>09 - Aleatoria/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">numero</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">numero</span> <span class="o">=</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">100</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Fijaros como nos aparece en la consola un número diferente todo el rato, como la tasa de fotogramas está establecida a 30 por segundo pues se muestran 30 números aleatorios. </p>
<p>Ahora bien, existe una función de <strong>p5</strong> llamada <strong>framerate()</strong> con la que podemos establecer el número de veces por segundo que se dibuja el lienzo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">numero</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
  <span class="nx">frameRate</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">numero</span> <span class="o">=</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">100</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Como véis esto afecta directamente a la cantidad de veces que generamos un número aleatorio, que ahora es una por segundo.</p>
<p>Pero vamos a hacer un ejemplo más interesante. ¿Recordáis que si no dibujamos el fondo en cada fotograma se conservan los dibujos que vamos haciendo?</p>
<h2 id="expresiones-logicas">Expresiones lógicas<a class="headerlink" href="#expresiones-logicas" title="Permanent link">&para;</a></h2>
<p>Durante la sección anterior aprendimos a dibujar figuras, utilizar variables y algunas funciones internas de <strong>p5</strong>, pero todo eso no es más que la punta del iceberg. Todavía nos falta aprender mucho más y a partir de ahora se os abrirá un nuevo mundo de posibilidades, eso es porque váis a aprender a controlar el flujo, o lo que es lo mismo, programar el código para que haga lo que vosotros queráis.</p>
<p>El control de flujo lo componen básicamente dos partes:</p>
<ul>
<li>Las <strong>condiciones</strong>, con las que podemos decidir si un código se ejecuta o no.</li>
<li>Los <strong>bucles</strong>, que sirven para repetir un código mientras se cumple cierta condición.</li>
</ul>
<p>Dejaremos los bucles para más adelante porque dependen en cierta forma de las condiciones, así que nos centraremos primeros en las condiciones, aunque para entenderlas antes debemos aprender qué son las expresiones lógicas.</p>
<p>Para condicionar el flujo de nuestro programa, éste deberá evaluar una expresión para decidir si se ejecuta un bloque de código o no, algo que conseguirá comparando dos valores, ya sean literales o variables, mediante un operador relacional:</p>
<ul>
<li><strong>Igual que</strong>: ==</li>
<li><strong>Distinto de</strong>: !=</li>
<li><strong>Mayor que</strong>: &gt;</li>
<li><strong>Mayor o igual que</strong>: &gt;=</li>
<li><strong>Menor que</strong>: &lt;</li>
<li><strong>Menor o igual que</strong>: &lt;=</li>
</ul>
<p>El resultado de esta comparación puede resultar únicamente en únicamente dos posibilidades lógicas, de ahí que se denominen expresiones lógicas:</p>
<ul>
<li>Si se cumple diremos que su resultado es <strong>verdadero</strong>, en inglés <strong>true</strong>.</li>
<li>Si no se cumple diremos que su resultado es <strong>falso</strong>, en inglés <strong>false</strong>.</li>
</ul>
<p>Ambos valores <strong>true</strong> y <strong>false</strong> forman lo que se conoce como tipos de datos lógicos o booleanos, unos datos diferentes de los números y los textos.</p>
<p>Pero basta de hablar y vamos a practicar algunas condiciones y sus resultados:</p>
<p><code>10 - Expresiones logicas/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>

  <span class="c1">// Condiciones básicas</span>
  <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mf">15</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mf">20</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">;</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span>

  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">b</span> <span class="o">&gt;=</span> <span class="nx">c</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">b</span> <span class="o">&lt;=</span> <span class="nx">c</span><span class="p">)</span>

  <span class="c1">// Precedencia de operadores</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">c</span> <span class="o">&lt;</span> <span class="nx">a</span><span class="o">*</span><span class="mf">3</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="nx">c</span> <span class="o">==</span> <span class="nx">b</span><span class="o">*</span><span class="mf">2</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="o">+</span><span class="nx">c</span> <span class="o">&gt;</span> <span class="mf">50</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">b</span><span class="o">-</span><span class="nx">a</span><span class="o">*</span><span class="nx">c</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">)</span>

  <span class="c1">// Con lógicos</span>
  <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="nx">print</span><span class="p">(</span><span class="nx">n</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">n</span> <span class="o">!=</span> <span class="kc">true</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">n</span> <span class="o">==</span> <span class="nx">m</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="nx">m</span><span class="p">)</span>

  <span class="c1">// Con textos</span>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s2">&quot;hola&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="s2">&quot;adios&quot;</span><span class="p">;</span>

  <span class="nx">print</span><span class="p">(</span><span class="nx">s</span> <span class="o">==</span> <span class="s2">&quot;hola&quot;</span><span class="p">)</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">s</span> <span class="o">==</span> <span class="nx">t</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="condicion-if-else">Condición if-else<a class="headerlink" href="#condicion-if-else" title="Permanent link">&para;</a></h2>
<p>Ahora que sabemos cómo se evalúan las expresiones lógicas ya podemos crear nuestras propias condiciones, para ello se utiliza esta sintaxis:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Bloque que se ejecutará</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="si-if">Si (if)<a class="headerlink" href="#si-if" title="Permanent link">&para;</a></h3>
<p>En español <strong>if</strong> significa <strong>si</strong> y podemos leerlo como "si se cumple la condición ejecutar el bloque de código". Además donde tenemos <strong>true</strong> podemos poner cualquier expresión lógica cuyo resultado sea verdadero. Vamos a hacer un ejemplo:</p>
<p><code>11 - Condicion si/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">dibujar</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">dibujar</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Como véis podemos controlar si dibujamos o no el círculo con la variable <strong>dibujar</strong> y algo muy interesante que podríamos hacer es activar o desactivar la condición definiendo un evento de clic:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="nx">dibujar</span> <span class="o">=</span> <span class="o">!</span><span class="nx">dibujar</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>El operador lógico <strong>!</strong> sirve para negar una expresión lógica, devolviendo verdadero si ésta es falsa o falso si es verdadera.</p>
<h3 id="si-no-else">Si no (else)<a class="headerlink" href="#si-no-else" title="Permanent link">&para;</a></h3>
<p>Lo que hemos hecho también se puede programar con una contracondición <strong>else</strong>, que se añade siempre después de un <strong>if</strong> para comprobar el caso contrario. En conjunto se leería "si se cumple la condición ejecutar el bloque de código, si no se cumple ejecutar el otro bloque de código":</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">dibujar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dibujar</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">dibujar</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Un experimento genial que podemos hacer es programar un círculo que se mueva en diagonal por el lienzo, pero si se sale del margen entonces cambiará revertirá su dirección.</p>
<p>Partiremos de un ejemplo básico donde el círculo se mueve en diagonal hasta el infinito:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="c1">// Movemos el círculo</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mf">2</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mf">2</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora lo que vamos a hacer es una condición justo al final del <strong>draw</strong> para comprobar si la posición que tenemos después de modificarla se ha salido del lienzo. Eso sería tan fácil de comprobar si la posición <strong>x</strong> del círculo es mayor que el ancho del lienzo o si la posición <strong>y</strong> es mayor que la altura del lienzo:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Comprobamos si nos salimos del lienzo</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;El círculo se ha salido del lienzo&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Con esto ya tenemos nuestra condición lista y lo que tocaría es modificar el código para que el círculo cambie la dirección. ¿Cómo podemos hacerlo?</p>
<p>Una solución este problema muy utilizada utiliza en los videojuegos es definir una nueva variable para representar si la dirección es positiva o negativa. Supodnremos que si es <strong>1</strong> será positiva y si es <strong>-1</strong> será negativa:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="c1">// Movemos el círculo en base a la dirección</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="c1">// Comprobamos si nos salimos del lienzo</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;El círculo se ha salido del lienzo&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora si multiplicamos esa dirección por la cantidad que se mueve el círculo conseguiremos sumar o restar dependiendo del caso y sólo tendremos que cambiar la dirección si nos salimos del lienzo haciendo algo tan fácil como multiplicar por -1, ya que si tenemos -1 pasará a ser 1 y si tenemos 1 pasará a ser -1:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="c1">// Movemos el círculo en base a la dirección</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="c1">// Comprobamos si nos salimos del lienzo</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Con esto habremos logrado que el círculo rebote en la esquina de abajo.</p>
<h2 id="condiciones-multiples">Condiciones múltiples<a class="headerlink" href="#condiciones-multiples" title="Permanent link">&para;</a></h2>
<p>Hemos visto que podemos utilizar <strong>if</strong> y <strong>else</strong> para comprobar una condición y ejecutar un código u otro en caso de que se cumpla o no, sin embargo en algunas ocasiones vamos a necesitar lidiar con más de una condición, e ahí lo que se conoce como condiciones múltiples.</p>
<p>Volvamos al ejemplo de la lección anterior donde nuestro círculo se movía por la diagonal rebotando de un lado al otro:</p>
<p><code>12 - Condicion extendida/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="c1">// Movemos el círculo</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="c1">// Comprobamos si nos salimos del lienzo</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1</span> <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Ahora vamos a trazar tres líneas horizontales cortando el lienzo, una a 100 píxeles de altura, otra a 200 y otra 300. Lo haremos justo después de pintar el fondo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="c1">// Dibujamos tres líneas horizontales</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="mf">100</span><span class="p">)</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="mf">200</span><span class="p">)</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">300</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="mf">300</span><span class="p">)</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>Estas tres líneas las vamos a usar como una guía porque nuestro siguiente objetivo será pintar la figura de un color diferente dependiendo de en qué parte se encuentre:</p>
<ul>
<li>Si se encuentra en la primera parte, de 0 a 100 píxeles de altura, la figura será amarilla.</li>
<li>Si se encuentra en la segunda parte, de 100 a 200 píxeles de altura, la figura será roja.</li>
<li>Si se encuentra en la tercera parte, de 200 a 300 píxeles de altura, la figura será verde.</li>
<li>Si se encuentra en la segunda parte, de 300 a 400 píxeles de altura, la figura será azul.</li>
</ul>
<p>Como podéis suponer cuatro posibilidades implican cuatro condiciones. Podríamos intentar hacerlo con lo que sabemos hasta ahora sobreescribiendo unas propiedades del círculo <strong>r</strong>, <strong>g</strong>, <strong>b</strong> y ajustando los colores en cada caso:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> 
  <span class="nx">r</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">g</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mf">0</span> 
<span class="p">}</span>

<span class="c1">// ...</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>

  <span class="c1">// Dibujamos tres líneas horizontales</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="mf">100</span><span class="p">)</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="mf">200</span><span class="p">)</span>
  <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">300</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="mf">300</span><span class="p">)</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="p">}</span> 
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="p">}</span> 
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="p">}</span> 
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="p">}</span> 
  <span class="nx">fill</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span> 
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>Es una forma de hacerlo, pero no es óptima, eso es porque estas condiciones no están relacionadas entre ellas. Es decir, se están ejecutando siempre todas sobreescribiendose unas a otras. Pensadlo por un momento, si el círculo se encuentra en un lugar cuya posición <strong>y</strong> es mayor que 300, eso significa que también es mayor que 0, mayor que 100 y mayor que 200. Si añadimos un print en las condiciones lo veremos:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Primera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 
<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Segunda parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 
<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Tercera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 
<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Cuarta parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 
</code></pre></div>
<p>Esto es un problema porque estamos ejecutando muchísimo código innecesariamente, pero no temáis porque lo podemos arreglar. Existe una instrucción condicional que sirve para vincular varias condiciones entre ellas y optimizar mucho el código, se trata del <strong>else if</strong>, en español <strong>si no si</strong>.</p>
<p>El bloque <strong>else if</strong> se puede utilizar múltiples veces entre un bloque <strong>if</strong> y un bloque <strong>else</strong>, aunque éste último no es obligatorio:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Primera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Segunda parte&quot;</span><span class="p">)</span>
<span class="p">}</span>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Tercera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Cuarta parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 
</code></pre></div>
<p>Al cambiar el código veremos que no funciona correctamente y eso tiene una explicación. Se debe a que cuando se ejecuta una de las condiciones los demás <strong>else if</strong> se descartan. De ahí que para utilizar esta estructura haya que desarrollar las condiciones de menos excluyente a más excluyente, justo al contrario de como lo tenemos.</p>
<p>Pensadlo detenidamente, la condición <strong>circulo.y &gt; 0</strong> excluye todas las demás, por tanto la primera que deberíamos comprobar es <strong>circulo.y &gt; 300</strong> porque esa no excluye las demás, ¿verdad? Luego la de <strong>circulo.y &gt; 200</strong>, la de <strong>circulo.y &gt; 100</strong> y finalmente <strong>circulo.y &gt; 0</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Cuarta parte&quot;</span><span class="p">)</span>
<span class="p">}</span>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Tercera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Segunda parte&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Primera parte&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="relaciones-multiples">Relaciones múltiples<a class="headerlink" href="#relaciones-multiples" title="Permanent link">&para;</a></h2>
<p>A parte de crear condiciones múltiples con la estructura <strong>if</strong>, <strong>else if</strong> y <strong>else</strong> también tenemos la posibilidad de definir más de una relación en la misma expresión lógica.</p>
<p>Siguiendo con el ejemplo de antes, en él tenemos un lienzo dividido en cuatro partes y en cada una establecemos un color diferente. Pero supongamos por un momento que en lugar de cuatro colores queremos manejar dos, el verde para la primera y tercera parte y el azul para la segunda y la cuarta.</p>
<p>Podríamos cambiar el código para conseguir este funcionamiento sin mucha complicación:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Cuarta parte&quot;</span><span class="p">)</span>
<span class="p">}</span>  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Tercera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Segunda parte&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Primera parte&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Es una forma correcta de solucionarlo pero una vez más no es la óptima.</p>
<p>Veréis, hay una regla no escrita en programación que dice que si estás repitiendo código es que lo estás haciendo mal y así es, tenemos los mismos códigos repetidos. ¿Ya que tenemos sólo dos colores no sería más lógico implementar dos condiciones? Pues eso se puede lograr usando múltiples relaciones.</p>
<p>Para unir dos relaciones contamos con dos operadores lógicos conocidos como <strong>and</strong> y <strong>or</strong>. Dependiendo de lo que necesitamos hacer utilizaremos uno u otro:</p>
<ul>
<li><strong>and</strong>: Conocido como <strong>Y</strong> lógica ejecutará un bloque cuando se cumplan las dos relaciones.</li>
<li><strong>or</strong>: Conocido como <strong>O</strong> lógica ejecutará un bloque si por lo menos se cumple una de las dos relaciones.</li>
</ul>
<p>Sabiendo esto os planteo la siguiente cuestión. ¿Cómo podemos asegurarnos en una única condición de que la figura se encuentra en la primera parte del lienzo? No podemos simplemente decir que su posición <strong>y</strong> es mayor que 0 porque esa condición también sirve para las otras tres partes. </p>
<p>Lo que limita la primera parte es el valor máximo de <strong>y</strong>, que en este caso es 100, por tanto la condición que garantiza que el círculo se encuentra en la primera parte es la unión de ambas a la vez, cuando <strong>y &gt; 0</strong> y también <strong>y &lt;= 100</strong>.</p>
<p>Aplicando esta lógica para cada parte tendremos las siguientes condiciones:</p>
<ul>
<li>Parte 1: <strong>y &gt; 0</strong> a la vez que <strong>y &lt;= 100</strong>.</li>
<li>Parte 2: <strong>y &gt; 100</strong> a la vez que <strong>y &lt;= 200</strong>.</li>
<li>Parte 3: <strong>y &gt; 200</strong> a la vez que <strong>y &lt;= 300</strong>.</li>
<li>Parte 4: <strong>y &gt; 300</strong> a la vez que <strong>y &lt;= 400</strong>.</li>
</ul>
<p>Utilizar estas relaciones múltiples sería una alternativa a los <strong>else if</strong>, ya que cada opción excluye a las otras. Sabiendo que el operador lógico para el <strong>and</strong> es <strong>&amp;&amp;</strong> podríamos hacer lo siguiente para unificar estas relaciones:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">400</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Cuarta parte&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">300</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Tercera parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 

<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">200</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Segunda parte&quot;</span><span class="p">)</span>
<span class="p">}</span> 

<span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">100</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Primera parte&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Son condiciones tan exclusivas que no importa el orden como las definamos.</p>
<p>¿Pero en qué afecta esto a lo que os decía al principio? Pues es la clave de todo porque si sabemos que cada uno de estos conjuntos de relaciones implica una de las partes, si pudiéramos unir los conjuntos de la primera parte y la tercera y de la segunda con la cuarta, ¡ya podríamos ahorrarnos repetir código! Y ahí es cuando entra en acción el operador <strong>or</strong> que se escribe con <strong>||</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">300</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">100</span><span class="p">))</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Primera parte o tercera&quot;</span><span class="p">)</span>
<span class="p">}</span> 

<span class="k">if</span> <span class="p">((</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">400</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">200</span><span class="p">))</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Segunda parte o cuarta&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Entiendo que tanto código pueda ser abrumador, tranquilos, vamos a simplificarlo para que se entienda mucho mejor, mirad:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">primera</span> <span class="o">=</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">200</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">300</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">segunda</span> <span class="o">=</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">100</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">200</span>
<span class="kd">var</span> <span class="nx">tercera</span> <span class="o">=</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">0</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">100</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">cuarta</span>  <span class="o">=</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="mf">300</span> <span class="o">&amp;&amp;</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mf">400</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">primera</span> <span class="o">||</span> <span class="nx">tercera</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">220</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">0</span>
<span class="p">}</span> 

<span class="k">if</span> <span class="p">(</span><span class="nx">segunda</span> <span class="o">||</span> <span class="nx">cuarta</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mf">220</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Muchísimo mejor verdad?</p>
<p>Con esto ya sabéis qué es condicionar el código, cómo utilizar relaciones múltiples y estáis más que preparados para aprender a utilizar los bucles.</p>
<h2 id="bucles-while-y-for">Bucles while y for<a class="headerlink" href="#bucles-while-y-for" title="Permanent link">&para;</a></h2>
<p>Dentro del control de flujo encontramos unas estructuras muy interesantes llamadas iteraciones o bucles. </p>
<p>Como podéis suponer los bucles son unas estructuras que sirven para repetir la ejecución de un bloque de código. </p>
<p>Para entender este comportamiento vamos a desarrollarlo visualmente, partiendo de un ejercicio donde vamos a dividir en líneas verticales un lienzo cada 40 píxeles de ancho. Suponiendo que el lienzo tiene 400 píxeles de ancho al final tendríamos 10 porciones de 40 píxeles cada una. Podríamos hacerlo incrementando una variable para dibujar cada línea:</p>
<p><code>13 - Mientras/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>

  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

  <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
  <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></div></p>
<p>En seguida se ve que en este ejemplo hay mucho código repetido, siendo un escenario para automatizar el código repetido en un bucle.</p>
<p>¿Para qué vamos a escribir 9 veces el mismo código si podemos decirle a nuestra máquina que repita ese código 9 veces? Os enseñaré a hacerlo de dos formas distintas.</p>
<h3 id="bucle-while-for">Bucle while (for)<a class="headerlink" href="#bucle-while-for" title="Permanent link">&para;</a></h3>
<p>La primera estructura de control iterativo es el <strong>while</strong>, conocido en español como <strong>mientras</strong> y sirve para ejecutar un código mientras se cumple una condición.</p>
<p>Para ejecutar correctamente un bucle <strong>mientras</strong> lo primero es identificar la condición que nos permite repetir el código y lo segundo aseurarnos de que esa condición se dejará de cumplir eventualmente. Este segundo punto es vital porque si se repita para siempre estaremos ante un bucle infinito y el proceso acabará colapsando.</p>
<p>En nuestro caso el ejemplo es muy sencillo pues sabemos exactamente cuando tenemos que dejar de dibujar líneas. Ese momento es cuando la <strong>x</strong> sea mayor que el ancho del lienzo:</p>
<p>Vamos a por ello:</p>
<p><code>13 - Mientras/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>

  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span>
    <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></p>
<p>Nuestro bucle <strong>while</strong> se leería como "Mientras X sea menor que el ancho del lienzo incrementamos la X en 40 píxeles y trazamos una línea vertical". Cuando la X sea mayor de 400 la condición no se cumplirá y el bucle dejará de ejecutarse (todo sucede en un único fotograma).</p>
<h3 id="bucle-for-para">Bucle for (para)<a class="headerlink" href="#bucle-for-para" title="Permanent link">&para;</a></h3>
<p>La segunda forma de solucionar el problema es mediante el bucle <strong>for</strong>, conocido como <strong>para</strong> en español y funciona igual que el <strong>while</strong> pero cambiando su sintaxis. </p>
<p>Este bucle nos permite crear una variable, condicionarla y manipularla en cada iteración, fijaros como quedaría el <strong>while</strong> transformado en <strong>for</strong>: </p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">width</span><span class="p">;</span> <span class="nx">x</span> <span class="o">+=</span> <span class="mf">40</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">line</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<h3 id="while-vs-for">While vs for<a class="headerlink" href="#while-vs-for" title="Permanent link">&para;</a></h3>
<p>Si bien es cierto que ambas estructuras hacen lo mismo, normalmente el bucle <strong>while</strong> se utiliza cuando no se conoce el número de veces que necesitamos repetir el bucle y el <strong>for</strong> cuando sí sabemos el número de veces que lo queremos repetir.</p>
<p>Esto es así porque la sintaxis que ofrece el <strong>for</strong> simplifica esta necesidad, de ahí que la variable que maneja suela denominarse contador. </p>
<p>Hagamos un último ejemplo muy divertido para ilustrar esto, partiendo de un círculo de 20x20 en medio del lienzo pero sin rellenar su fondo, únicamente con el borde:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">noFill</span><span class="p">()</span>

  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>A partir de esta base nuestro objetivo es dibujar múltiples círculos, cada uno a una distancia del centro que se vaya incrementando 20 píxeles. Es decir, si el primero tiene un diámetro de 20, el segundo lo tendrá de 40, el tercero de 60 y así... Esto lo repetiremos un número determinado de veces, por ejemplo 15.</p>
<p>Como sabemos de antemano cuántas veces queremos repetir el dibujo utilizaremos el <strong>for</strong> y su variable como contador para limitarlo, incrementándolo una vez en cada iteración. Fijaros:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">noFill</span><span class="p">()</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mf">15</span><span class="p">;</span> <span class="nx">x</span> <span class="o">+=</span> <span class="mf">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>  
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>Con esto ya dibujamos 15 veces un círculo pero nos falta incrementar el diámero 20 píxeles en cada iteración. Para hacerlo podemos utilizar otra variable:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">noFill</span><span class="p">()</span>

  <span class="kd">var</span> <span class="nx">diametro</span> <span class="o">=</span> <span class="mf">20</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mf">15</span><span class="p">;</span> <span class="nx">x</span> <span class="o">+=</span> <span class="mf">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametro</span><span class="p">,</span> <span class="nx">diametro</span><span class="p">)</span>  
    <span class="nx">diametro</span> <span class="o">+=</span> <span class="mf">20</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>¿Así queda más claro por qué la variable del <strong>for</strong> suele utilizarse como contador verdad? </p>
<p>Con esto la lección se puede dar por concluida pero se me ha ocurrido algo genial y muy divertido.</p>
<h2 id="hora-de-divertirse">Hora de divertirse<a class="headerlink" href="#hora-de-divertirse" title="Permanent link">&para;</a></h2>
<p>Siguiendo con el ejemplo anterior, imaginad por un momento que en lugar de dibujar 15 círculos empezamos dibujando 0, al cabo de unos instantes dibujamos 1, luego 2 y así hasta llegar a 30. Al llegar a 30 en lugar de sumar 1 restaríamos 1 hasta llegar de nuevo a 0 e invertir el proceso. ¿Os podéis imaginar lo que intento decir? ¡Vamos a hacerlo!</p>
<p>Empezaremos estableciendo una variable para limitar el número de círculos y la utilizaremos en el <strong>for</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">limite</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">noFill</span><span class="p">()</span>

  <span class="kd">var</span> <span class="nx">diametro</span> <span class="o">=</span> <span class="mf">20</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">limite</span><span class="p">;</span> <span class="nx">x</span> <span class="o">+=</span> <span class="mf">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametro</span><span class="p">,</span> <span class="nx">diametro</span><span class="p">)</span>  
    <span class="nx">diametro</span> <span class="o">+=</span> <span class="mf">20</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>Ahora vamos a incrementar en cada fotograma ese límite hasta un máximo de 30 y veamos qué ocurre:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// ...</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">limite</span> <span class="o">&lt;</span> <span class="mf">30</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">limite</span> <span class="o">+=</span> <span class="mf">1</span>
<span class="p">}</span>
</code></pre></div>
<p>¡Nada mal! Como el lienzo se dibuja 30 veces por segundo pues se dibujan los 30 círculos en ese tiempo.</p>
<p>Si modificamos el frameRate para que sea 15 fotogramas por segundo debería tardar unos 2 segundos en rellenar el lienzo (30/15 = 2):</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">)</span>
  <span class="nx">frameRate</span><span class="p">(</span><span class="mf">15</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora viene lo mejor, si utilizamos otra variable para manejar la cantidad que sumamos al límite podemos hacer que valga 1 o -1 dependiendo de si estamos sumando para llegar a 30 o restando para llegar a 0. Eso junto a unas condiciones debería permitirnos generar un efecto infinito que sume y reste círculos:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">cantidad</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>  <span class="c1">// sumamos </span>

<span class="c1">// ...</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">limite</span> <span class="o">&gt;</span> <span class="mf">30</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">cantidad</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">limite</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">cantidad</span> <span class="o">=</span> <span class="mf">1</span>
<span class="p">}</span>

<span class="nx">limite</span> <span class="o">+=</span> <span class="nx">cantidad</span>
</code></pre></div>
<h2 id="tablero-de-ajedrez">Tablero de ajedrez<a class="headerlink" href="#tablero-de-ajedrez" title="Permanent link">&para;</a></h2>
<p>Llegamos al final de la sección donde hemos aprendido como el control de flujo nos permite condicionar y repetir bloques de código. </p>
<p>En esta lección vamos a repasar todos los conceptos haciendo un interesante ejercicio mientras introducimos el uso de los bucles anidados, una situación que sucede cuando dentro de un bucle tenemos otro bucle.</p>
<p>Para demostrar visualmente lo que ocurre he decidido enseñaros cómo dibujar un tablero de ajedrez, será un poco largo pero estoy seguro de que os gustará.</p>
<p>¿Conocéis la estructura de un tablero de ajedrez? Se trata de una superficie cuadrada dividida en 8x8 cuadrados, 32 blancos y 32 negros. Empezando por el cuadrado de la esquina superior ubicamos la primera fila en la que el primer cuadrado es blanco, el segundo negro, el tercero blanco otra vez y así. Para la segunda fila se alternan los colores, de manera que nunca queden dos cuadrados del mismo color unidos por un lado.</p>
<div class="image">
   <img src="https://raw.githubusercontent.com/hcosta/apuntes-cdn/master/docs/p5js/ajedrez.jpg"/>
   <div style="font-size:80%">Tablero de madera con casillas blancas en amarillo y negras en marrón.</div>
</div>

<p>Ya sabemos dibujar cuadrados y rellenarlos de colores, así que podríamos dibujar los 64 cuadrados manualmente en el lienzo... pero seamos realistas, ¿quién haría eso sabiendo que podemos usar bucles?</p>
<p>Para afrontar este problema vamos a empezar por lo más básico, dividir el lienzo equitativamente en 64 cuadrados. Esto lo podemos hacer trazando líneas rectas, dividiendo el ancho y alto del lienzo entre 8 para saber el tamaño de los cuadrados y en un bucle trazar las líneas horizontales y verticales:</p>
<p><code>14 - Bucles anidados/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Divisiones horizontales</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="mf">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">ancho_celda</span> <span class="o">*</span> <span class="nx">i</span>
    <span class="nx">line</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// Divisiones verticales</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mf">1</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;=</span><span class="mf">8</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">alto_celda</span> <span class="o">*</span> <span class="nx">j</span>
    <span class="nx">line</span><span class="p">(</span><span class="nx">y</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Muy bien, con esto hemos conseguido dibujar el tablero y sólo nos falta pintar las celdas acordemente.</p>
<p>Por desgracia lo que hemos hecho no nos sirve para nada y es que esto sólo dibuja el tablero y lo que nosotros necesitamos son cuadrados pintarlos de colores... así que tendremos que pensar otra forma de hacerlo utilizando cuadrados.</p>
<p>Lo que os propongo es dividir el problema en partes más sencillas que podamos afrontar gradualmente hasta dar con la solución completa. Ya sabéis lo que dicen de divide y vence.</p>
<h3 id="dibujando-una-celda">Dibujando una celda<a class="headerlink" href="#dibujando-una-celda" title="Permanent link">&para;</a></h3>
<p>Empecemos de nuevo por lo más esencial, dibujar el primer cuadrado de la esquina superior. Éste no nos debería costar demasiado pues ya sabemos lo que tenemos que hacer:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Dibujamos un cuadrado</span>
  <span class="nx">rect</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">alto_celda</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Muy bien, ya hemos dado el primer paso.</p>
<h3 id="dibujando-una-fila">Dibujando una fila<a class="headerlink" href="#dibujando-una-fila" title="Permanent link">&para;</a></h3>
<p>Ahora que tenemos un cuadrado nuestro siguiente objetivo será dibujar toda la fila, por ahora sin preocuparnos de los colores. </p>
<p>Para conseguirlo podemos dibujar los 8 cuadrados uno al lado del otro en un bucle <strong>for</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Dibujamos una fila</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Dibujamos un cuadrado</span>
    <span class="nx">rect</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">ancho_celda</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">alto_celda</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>¡Vamos progresando! </p>
<h3 id="dibujando-el-tablero">Dibujando el tablero<a class="headerlink" href="#dibujando-el-tablero" title="Permanent link">&para;</a></h3>
<p>Tenemos una fila, salta a la vista qué debemos hacer, ¿verdad? Dibujar 8 filas una debajo de otra.</p>
<p>Aquí es mis estimados alumnos donde entra en juego el segundo bucle, un bucle dentro de otro, pues si tenemos un bucle para dibujar una fila, debemos utilizarlo dentro de otro para que se repita nuevamente.</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Recorremos 8 filas</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Dibujamos una fila</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
       <span class="c1">// Dibujamos un cuadrado</span>
       <span class="nx">rect</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">ancho_celda</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">alto_celda</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Con esto tenemos la fila dibujándose 8 veces en el mismo sitio, tenemos que ajustar la altura para dibujar las celdas dependiendo de la fila:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Recorremos 8 filas</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Dibujamos una fila</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
       <span class="c1">// Dibujamos un cuadrado</span>
       <span class="nx">rect</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">j</span><span class="o">*</span><span class="nx">alto_celda</span><span class="p">,</span> <span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">alto_celda</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span> 
</code></pre></div>
<p>¡Por fin! Ahora sí tenemos lo necesario para poder pintar el tablero, pues estamos dibujando cuadrados que podemos rellenar de colores. </p>
<p>La cuestión es determinar de qué color pintar los cuadrados... ¿Se os ocurre alguna forma?</p>
<h3 id="pintando-una-fila">Pintando una fila<a class="headerlink" href="#pintando-una-fila" title="Permanent link">&para;</a></h3>
<p>Como no sabemos exactamente por dónde empezar hagamos lo mismo que antes, pintemos el diseño de la primera fila con el primer cuadrado en blanco, el segundo en negro y así sucesivamente.</p>
<p>Una forma de pintar los cuadrados sería comprobando el contador del <strong>for</strong> anidado. Podemos hacer diferentes <strong>if</strong> y si la <strong>i</strong> vale 0 pintarlo blanco, si vale <strong>1</strong> pintarlo negro, si vale <strong>2</strong> blanco, etc.</p>
<p>Sin embargo como podéis suponer esta forma no es óptima y lo malo es que no sabemos como determinar automáticamente este caso. ¿Cómo podemos hacerlo entonces? Bueno, la clave está en un operador aritmético que todavía no conocemos y váis a aprender ahora mismo, el módulo.</p>
<p>¿Sabéis lo que es una división entera? Cuando por ejemplo dividimos 5 entre 2, el resultado es 2 y nos sobra 1. Ese 1 se llama resto o residuo de la división entera. Pues bien, el operador de módulo <strong>%</strong> es un operador como la suma o la división, pero lo que hace es devolvernos el residuo de una división.</p>
<p>¿Por qué es tan importante? Porque si calculamos el módulo de un número entre otro y el resultado es diferente de cero podemos determinar si ese número es múltiplo del primero o no. En otras palabras, podemos saber si una casilla es par o impar y eso amigos es todo lo que necesitamos para pintar las celdas:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Recorremos 8 filas</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Dibujamos una fila</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Determinamos si el módulo del contador de la fila es par</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Si el residuo es 0 es par, pintamos blanco</span>
        <span class="nx">fill</span><span class="p">(</span><span class="mf">255</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Si el residuo es diferente de 0 es impar, pintamos negro </span>
        <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="c1">// Dibujamos un cuadrado</span>
      <span class="nx">rect</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">j</span><span class="o">*</span><span class="nx">alto_celda</span><span class="p">,</span> <span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">alto_celda</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Bien, hemos pintado la estructura de las líneas impares perfectamente.</p>
<h3 id="pintando-el-tablero">Pintando el tablero<a class="headerlink" href="#pintando-el-tablero" title="Permanent link">&para;</a></h3>
<p>Ahora nos falta identificar las líneas pares y ya lo tendremos. ¿Cómo podemos hacerlo? Pues de la misma forma que hemos determinado si las celdas eran pares podemos comprobar las filas, haciendo uso de condiciones anidadas:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">ancho_celda</span> <span class="o">=</span> <span class="nx">width</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">alto_celda</span> <span class="o">=</span> <span class="nx">height</span><span class="o">/</span><span class="mf">8</span><span class="p">;</span>

  <span class="c1">// Recorremos 8 filas</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// Determinamos los colores de la fila</span>
    <span class="kd">var</span> <span class="nx">color_celda_par</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">color_celda_impar</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">j</span><span class="o">%</span><span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Si la fila es par </span>
      <span class="nx">color_celda_par</span> <span class="o">=</span> <span class="mf">255</span><span class="p">;</span>
      <span class="nx">color_celda_impar</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// Si la fila es impar </span>
      <span class="nx">color_celda_par</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
      <span class="nx">color_celda_impar</span> <span class="o">=</span> <span class="mf">255</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Dibujamos una fila</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mf">8</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Determinamos si el módulo del contador de la fila es par</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Si el residuo es 0 es par</span>
        <span class="nx">fill</span><span class="p">(</span><span class="nx">color_celda_par</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Si el residuo es diferente de 0 es impar</span>
        <span class="nx">fill</span><span class="p">(</span><span class="nx">color_celda_impar</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="c1">// Dibujamos un cuadrado</span>
      <span class="nx">rect</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">j</span><span class="o">*</span><span class="nx">alto_celda</span><span class="p">,</span> <span class="nx">ancho_celda</span><span class="p">,</span> <span class="nx">alto_celda</span><span class="p">)</span>
    <span class="p">}</span>

  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>Sin palabras, perfectamente geométrico, perfectamente equilibrado. Dibujado programáticamente usando variables, condiciones y bucles.</p>
<p>En esto amigos consiste el arte de dibujar gráficos, en ingeniárselas para dibujar lo que queramos sobre el lienzo y lo mejor es que no hay una sola forma de hacer las cosas. Por eso es una tarea tan creativa a la par que lógica.</p>
<p>Por cierto, si queréis almacenar colores RGB en una variable se puede hacer usando la función <strong>color</strong> de <strong>p5</strong>, que por cierto acepta tanto valores en formato RGB como en hexadecimal:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="nx">j</span><span class="o">%</span><span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Si la fila es par </span>
  <span class="nx">color_celda_par</span> <span class="o">=</span> <span class="nx">color</span><span class="p">(</span><span class="s1">&#39;#DAB692&#39;</span><span class="p">);</span>
  <span class="nx">color_celda_impar</span> <span class="o">=</span> <span class="nx">color</span><span class="p">(</span><span class="mf">133</span><span class="p">,</span> <span class="mf">44</span><span class="p">,</span> <span class="mf">25</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">color_celda_par</span> <span class="o">=</span> <span class="nx">color</span><span class="p">(</span><span class="mf">133</span><span class="p">,</span> <span class="mf">44</span><span class="p">,</span> <span class="mf">25</span><span class="p">);</span>
  <span class="nx">color_celda_impar</span> <span class="o">=</span> <span class="nx">color</span><span class="p">(</span><span class="s1">&#39;#DAB692&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="funciones">Funciones<a class="headerlink" href="#funciones" title="Permanent link">&para;</a></h2>
<p>Empezamos una nueva sección en la que vamos a aprender sobre las funciones y hay que decir que ya hemos utilizado muchas funciones de la biblioteca <strong>p5</strong>, como <strong>setup</strong>, <strong>draw</strong> y todas las que sirven para dibujar formas y colores.</p>
<p>En la programación las funciones son uno de los conceptos más importantes porque permiten escribir código modular y reutilizable:</p>
<ul>
<li><strong>Modular</strong> porque nos ofrece la posibilidad de organizar nuestro código de una forma coherente.</li>
<li><strong>Reutilizable</strong> porque podemos ejecutar una función tantas veces como queramos.</li>
</ul>
<p>Si buscamos una definición concreta, las funciones son bloques de código reutilizable identificados con un nombre cuyo objetivo es solucionar un problema. Recordad, las buenas funciones deben dar solución a sólo un problema, si solucionan más de un problema significa que podríamos haberlo dividido en más funciones, lo que nos permitiría organizar mejor el código, hacerlo más extensible y fácil de utilizar.</p>
<p>Podmos aprender sobre la sintaxis de una función observando <strong>setup</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>Como se puede apreciar hacemos uso de la palabra reservada <strong>function</strong> para definir el nombre de una función, seguido de los paréntesis y las llaves que envuelven su bloque de código.</p>
<p>Vamos a recuperar el ejemplo del círculo que rebota diagonalmente y lo vamos a utilizar para practiar como crear y llamar nuestras propias funciones:</p>
<p><code>15 - Funciones/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Para reorganizar el código utilizando funciones una forma de hacerlo es identificar los verbos, ya que éstos indican acciones:</p>
<ul>
<li>Pintar</li>
<li>Mover</li>
<li>Rebotar</li>
</ul>
<p>Cada una de estas acciones podría trasladarse a una función para organizar mejor el código:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">pintar</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Pintamos el círculo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">mover</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Movemos el círculo</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="mf">2</span> <span class="o">*</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">rebotar</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Comprobamos si nos salimos del lienzo</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">*=</span> <span class="o">-</span><span class="mf">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Finalmente tendríamos que ejecutar nuestras funciones en lugar del código:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="nx">d</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">mover</span><span class="p">()</span>
  <span class="nx">rebotar</span><span class="p">()</span>
  <span class="nx">pintar</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>Estamos haciendo lo mismo pero ahora tenemos el código organizado modularmente. Podríamos desactivar una característica como la de hacer que el círculo rebote comentando la línea que ejecuta esa funcionalidad:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">mover</span><span class="p">()</span>
  <span class="c1">//rebotar()</span>
  <span class="nx">pintar</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="parametros-y-argumentos">Parámetros y argumentos<a class="headerlink" href="#parametros-y-argumentos" title="Permanent link">&para;</a></h3>
<p>¿Recordáis que para dibujar una figura necesitábamos enviar a la función la posición donde queremos dibujarla y su tamaño? Esos datos son conocidos como parámetros de la función y es lo que nos permite añadir dinamismo a su funcionamiento, logrando diferentes resultados dependiendo de los datos que les enviemos.</p>
<p>Vamos a aprender sobre los parámetros creando nuestra propia función para dibujar casitas. Cada casita estará formada por dos figuras:</p>
<ul>
<li>Un cuadrado gris para la pared principal</li>
<li>Un triángulo rojo para el tejado</li>
</ul>
<p><code>16 - Parametros/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">casita</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">casita</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">100</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="mf">100</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">lado</span> <span class="o">=</span> <span class="mf">50</span><span class="p">;</span>

  <span class="c1">// Pintamos la pared</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">100</span><span class="p">)</span>
  <span class="nx">rect</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">lado</span><span class="p">,</span> <span class="nx">lado</span><span class="p">)</span>

  <span class="c1">// Pintamos el techo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">triangle</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">lado</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">lado</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span> <span class="nx">y</span><span class="o">-</span><span class="nx">lado</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></div></p>
<p>Muy bien, con esto podemos dibujar una casita. Lo malo es que todavía no podemos reutilizar la función porque sus variables tienen valores estáticos que no cambian.</p>
<p>La idea como podéis suponer es añadir las variables <strong>x</strong>, <strong>y</strong> y <strong>lado</strong> como parámtros para poder establecerlos en el momento de dibujar la casita, así que vamos a hacerlo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">casita</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">casita</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">lado</span><span class="p">)</span> <span class="p">{</span>

  <span class="c1">// Pintamos la pared</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">100</span><span class="p">)</span>
  <span class="nx">rect</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">lado</span><span class="p">,</span> <span class="nx">lado</span><span class="p">)</span>

  <span class="c1">// Pintamos el techo</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">220</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="nx">triangle</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">lado</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">lado</span><span class="o">/</span><span class="mf">2</span><span class="p">,</span> <span class="nx">y</span><span class="o">-</span><span class="nx">lado</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>

<span class="p">}</span>
</code></pre></div>
<p>Lo interesante es que al crear los parámetros estos recibirán los valores por orden en el momento de enviarlos a la función y además no tenemos que usar la palabra <strong>var</strong> para definirlos:</p>
<div class="highlight"><pre><span></span><code><span class="nx">casita</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
</code></pre></div>
<p>Con esto ya le diremos que <strong>x</strong> e <strong>y</strong> valen 100 y el <strong>lado</strong> tiene un tamaño de 50, pero lo mejor de todo es que cambiando los valores podemos dibujar diferentes casitas:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="nx">casita</span><span class="p">(</span><span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
  <span class="nx">casita</span><span class="p">(</span><span class="mf">150</span><span class="p">,</span> <span class="mf">150</span><span class="p">,</span> <span class="mf">100</span><span class="p">)</span>
  <span class="nx">casita</span><span class="p">(</span><span class="mf">300</span><span class="p">,</span> <span class="mf">300</span><span class="p">,</span> <span class="mf">25</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>De hecho nada nos impide usarlo dentro de un bucle y hacer un poco de magia:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mf">20</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">casita</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">,</span> <span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">,</span> <span class="nx">i</span><span class="o">*</span><span class="mf">10</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Los valores que se envían a las funciones y se almacenan en los parámetros se denominan argumentos. Aunque en realidad son datos correlativos (unos se envían y los otros se reciben), es importante diferenciarlos porque los parámetros tienen nombre y los argumentos no.</p>
<h3 id="retorno-de-valores">Retorno de valores<a class="headerlink" href="#retorno-de-valores" title="Permanent link">&para;</a></h3>
<p>Para acabar el tema de las funciones vamos a ver otra de sus características, ya que éstas no sólo pueden recibir información, también pueden devolverla y esta funcionalidad se conoce como retorno de valores. </p>
<p>Vamos a hacer un ejemplo para que veáis la utilidad porque se trata de un concepto muy simple.</p>
<p>¿Recordáis la operación módulo? La utilizamos para dibujar el tablero de ajedrez, concretamente para identificar si un número era par o impar. Pues vamos a crearnos una función que haga precisamente eso.</p>
<p><code>17 - Retorno/sketch.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mf">10</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">esPar</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">esPar</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">numero</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">numero</span><span class="p">,</span> <span class="s2">&quot;es par&quot;</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">numero</span><span class="p">,</span> <span class="s2">&quot;es impar&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Muy bien, nuestra función recibe un número, hace un cálculo y nos muestra un mensaje por pantalla. Pero... ¿Y si en lugar de mostrar un mensaje quisiéramos utilizarla para colorear las filas pares de una tabla? Está claro que con mostrar un mensaje no es suficiente, necesitamos algo más y eso es que la función se comunique con el exterior para decirnos si el número es par o no.</p>
<p>Para lograrlo utilizaremos el retorno de valores y podemos hacerlo de una forma muy sencilla, devolviendo <strong>true</strong> si el número es par y <strong>false</strong> si es impar:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">esPar</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">numero</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Esto se puede simplificar en dos líneas ya que como hemos dicho <strong>return</strong> no sólo devuelve un valor sino que también finaliza la función, haciendo imposible que se ejecute más de un <strong>return</strong> en la misma función:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">esPar</span><span class="p">(</span><span class="nx">numero</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">numero</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span>
  <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>
<p>La instrucción return nos permite finalizar una función y devolver un valor al exterior. Ese valor podemos almacenarlo en una variable o utilizarlo directamente:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mf">10</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">resultado</span> <span class="o">=</span> <span class="nx">esPar</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">resultado</span><span class="p">)</span> <span class="nx">print</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">&quot;es par&quot;</span><span class="p">)</span>
    <span class="k">else</span> <span class="nx">print</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">&quot;es impar&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora que sabemos cómo almacenar los datos que devuelve una función ya podemos dibujar nuestra tabla con las filas pares coloreadas:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">)</span>
  <span class="kd">var</span> <span class="nx">filas</span> <span class="o">=</span> <span class="mf">25</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">filas</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fila</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="nx">height</span><span class="o">/</span><span class="nx">filas</span><span class="p">),</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="o">/</span><span class="nx">filas</span><span class="p">,</span> <span class="nx">esPar</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">esPar</span><span class="p">(</span><span class="nx">numero</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">numero</span> <span class="o">%</span> <span class="mf">2</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span>
  <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">fila</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">,</span> <span class="nx">altura</span><span class="p">,</span> <span class="nx">esPar</span><span class="p">){</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">esPar</span><span class="p">)</span> <span class="nx">fill</span><span class="p">(</span><span class="mf">150</span><span class="p">)</span> 
  <span class="k">else</span> <span class="nx">noFill</span><span class="p">()</span>
  <span class="nx">rect</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">anchura</span><span class="p">,</span> <span class="nx">altura</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Qué os ha parecido este ejemplo? Ahora ya sabéis como lo hacen para colorear las filas de las tablas automáticamente.</p>
<h2 id="clases">Clases<a class="headerlink" href="#clases" title="Permanent link">&para;</a></h2>
<p>Vamos a llegar a la idea de clase partiendo de un ejemplo donde dibujamos un objeto simple como un círculo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="nx">x</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">y</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">d</span><span class="o">:</span> <span class="mf">50</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora viene una revelación interesante y es que nosotros sabemos que los objetos almacenan propiedades, pero esas propiedades no tienen porqué ser simples datos, pueden ser funciones:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="nx">x</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">y</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">d</span><span class="o">:</span> <span class="mf">50</span><span class="p">,</span>
    <span class="nx">saludar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
        <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;¡Hola :3! soy un círculo&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Para llamar una función de un objeto simplemente accederemos a su nombre y las ejecutaremos como una función normal:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">saludar</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Con esto en mente no sería descabellada la idea de incluir en el objeto su propia función <strong>draw</strong> para dibujarse a sí misma, ¿verdad?</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="nx">x</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">y</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">d</span><span class="o">:</span> <span class="mf">50</span><span class="p">,</span>
    <span class="nx">saludar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
        <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;¡Hola :3! soy un círculo&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">draw</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>  <span class="c1">// dibujamos el círculo a sí mismo</span>
<span class="p">}</span>
</code></pre></div>
<p>¡Funciona! </p>
<p>Muy bien muy bien, ¿pero por qué estamos trabajando con funciones si esta es la lección de las clases? Ahora mismo lo váis a descubrir.</p>
<p>Ahora supongamos que quisiéramos dibujar otro círculo a parte del que ya tenemos. ¿Qué haríamos? ¿Copiamos toda la estructura del circulo para crear otro circulo diferente? Nada nos impide hacerlo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="nx">x</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">y</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> 
    <span class="nx">d</span><span class="o">:</span> <span class="mf">50</span><span class="p">,</span>
    <span class="nx">saludar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
        <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;¡Hola :3! soy un círculo&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">draw</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo2</span> <span class="o">=</span> <span class="p">{</span> 
    <span class="nx">x</span><span class="o">:</span> <span class="mf">300</span><span class="p">,</span> 
    <span class="nx">y</span><span class="o">:</span> <span class="mf">300</span><span class="p">,</span> 
    <span class="nx">d</span><span class="o">:</span> <span class="mf">50</span><span class="p">,</span>
    <span class="nx">saludar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
        <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;¡Hola :3! soy un círculo&quot;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">draw</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="nx">circulo2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">circulo2</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">circulo2</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="nx">circulo2</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="nx">circulo2</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Y si quisiéramos dibujar 10 círculos tendríamos que crear 10 veces un objeto con las mismas propiedades? </p>
<p>En seguida se nota que algo no cuadra, debería existir una forma de manejar esto sin repetir tanto código... y así es amigos, esa forma son las clases.</p>
<p>Las clases sirven como moldes para generar objetos con propiedades y funciones comunes en sus estructuras. </p>
<p>Así que en lugar de crear tantos objetos vamos a crear una clase círculo para generar círculos:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>Bien ya tenemos la clase definida.</p>
<p>Ahora necesitamos una forma de definir sus propiedades internas, eso se hace definiendo una función especial que tienen llamado <strong>constructor</strong> que recibe las propiedades que queremos asignar al objeto:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Soy un círculo cuyas propiedades valen&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Fijaros como no tenemos que usar la palabra <strong>function</strong> para crear la función <strong>constructor</strong>.</p>
<p>Muy bien, ahora tenemos que usar esta clase para generar un círculo, eso lo haremos instanciando un objeto a partir de ella con la instrucción <strong>new</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Como véis así hemos conseguido almacenar en la variable circulo unas propiedades. </p>
<p>Por cierto, de la misma forma que las variables dentro de los objetos se denominan propiedades, las funciones reciben el nombre de métodos. Por tanto la función <strong>constructor</strong> en realidad se denomina método <strong>constructor</strong>.</p>
<p>Sabiendo eso vamos a añadir el método <strong>draw</strong> a la clase <strong>Circulo</strong> para dibujar la figura:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Soy un círculo cuyas propiedades valen&quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Esta es la única forma como por ahora podemos suponer que se hace, pero lamentablemente esto no va a funcionar. Nos dará un error indicando que no se encuentra la propiedad <strong>x</strong> para poder dibujar el círculo.</p>
<p>¿Por qué ocurre esto? Bueno, no sé si recordaréis que antes para dibujar el círculo a sí mismo lo que hacíamos era pasar a la función <strong>ellipse</strong> los propios valores del objeto <strong>circulo</strong>. En las clases no podemos hacerlo de esa forma, además la idea de que los valores son accesibles entre los métodos haciendo referencia al nombre no funciona de esa forma.</p>
<p>Sí, existe una forma de acceder a las propiedades entre los métodos, pero para entenderla necesitamos aprender el concepto instancia.</p>
<h3 id="instancias">Instancias<a class="headerlink" href="#instancias" title="Permanent link">&para;</a></h3>
<p>Cuando generamos un objeto a partir una clase lo que hacemos en realidad es crear una instancia de esa clase, eso significa reservar un espacio en la memoria del sistema para guardar ahí sus datos.</p>
<p>Podemos consultar la instancia mostrándola directamente en la consola:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="c1">//ellipse(x, y, d, d);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">circulo</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Siendo la instancia la representación de un objeto no sería extraño que pudiéramos crearle manualmente una propiedad después de generarla y acceder a ella:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="c1">//ellipse(x, y, d, d);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
<span class="nx">circulo</span><span class="p">.</span><span class="nx">nombre</span> <span class="o">=</span> <span class="s2">&quot;Circulito&quot;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">nombre</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Así pues sabemos que si creamos una propiedad en una instancia su valor se conserva y podemos seguir usándolo. </p>
<p>Pues para acceder a esa información dentro de los métodos la idea es la misma, hacer referencia a la instancia. ¿Cómo? Con una propiedad especial de las clases llamada <strong>this</strong>.</p>
<h3 id="la-propiedad-this">La propiedad this<a class="headerlink" href="#la-propiedad-this" title="Permanent link">&para;</a></h3>
<p>Dentro de una clase la palabra <strong>this</strong> hace referencia a la propia instancia:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">nombre</span> <span class="o">=</span> <span class="s2">&quot;Circulito&quot;</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="c1">//ellipse(x, y, d, d);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">circulo</span><span class="p">.</span><span class="nx">nombre</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Véis? Es la misma idea pero con <strong>this</strong> podemos hacer referencia a la instancia desde dentro, representando al objeto en sí mismo.</p>
<p>Así pues la clave para manejar las propiedades comunes entre los métodos consiste en asignar los valores que enviamos a los métodos a la propia instancia y hacer referencia a ella para acceder a sus valores:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>En este punto podemos reutilizar nuestra clase Circulo de una forma cómoda para crear más circulos sin repetir código:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">circulo2</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">circulo3</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">300</span><span class="p">,</span> <span class="mf">300</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="nx">circulo2</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="nx">circulo3</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Mucho mejor verdad? Podemos crear tantas clases, métodos e instancias como queramos, sin duda es una forma magnífica de estructurar nuestro código.</p>
<h3 id="clases-en-ficheros">Clases en ficheros<a class="headerlink" href="#clases-en-ficheros" title="Permanent link">&para;</a></h3>
<p>En esta pequeña lección vamos a introducir el uso de ficheros JavaScript para organizar mejor nuestro código cuando utilizamos clases.</p>
<p>Partiendo del ejemplo anterior:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">circulo2</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">circulo3</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">300</span><span class="p">,</span> <span class="mf">300</span><span class="p">,</span> <span class="mf">50</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="nx">circulo2</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="nx">circulo3</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>La idea consiste en crear un fichero específico para cada clase y cargarlo en el <strong>sketch</strong> para tener un código pulido y bien organizado.</p>
<p>Para hacerlo desplegaremos el panel a la izquierda del editor, donde encontraremos los ficheros que componen un <strong>sketch</strong> en <strong>p5.js</strong>:</p>
<ul>
<li><strong>sketch.js</strong>: El script donde se maneja el código para dibujar en el sketch.</li>
<li><strong>index.html</strong>: El fichero principal del proyecto con la estructura HTML.</li>
<li><strong>style.css</strong>: El fichero con los estilos visuales en formato CSS.</li>
</ul>
<p>Bien, pues lo que vamos a hacer es crear un nuevo script JavaScript con el nombre de la clase, en nuestro casp <strong>circulo.js</strong> y dentro trasladaremos la definición de la clase:</p>
<p><code>circulo.js</code>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
    <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">draw</span><span class="p">(){</span>
        <span class="nx">ellipse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Lo único que tendremos que hacer es cargar el fichero en las cabeceras del <strong>index.html</strong>, justo antes de cargar el <strong>sketch.js</strong>.</p>
<p>Es muy importante cargarlo antes porque como se hace uso de la clase <strong>Circulo</strong> en el fichero <strong>sketch.js</strong>, ésta tiene que haberse importado antes:</p>
<p><code>index.html</code>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;circulo.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;sketch.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div></p>
<p>¡Listo! Con esto tenemos nuestro proyecto usando clases definidas en sus propios ficheros, una forma perfecta de organizar mejor nuestro código.</p>
<h2 id="arreglos">Arreglos<a class="headerlink" href="#arreglos" title="Permanent link">&para;</a></h2>
<p>Hasta ahora hemos utilizado datos como números, textos y objetos, pero siempre individualmente. Lo que vamos a ver en esta última sección del curso es una cómo crear unas estructuras para almacenar múltiples datos llamadas arreglos, o en inglés <strong>arrays</strong>..</p>
<p>Un arreglo consiste en un listado que contiene datos separados por comas, como números, textos u objetos.</p>
<p>En la práctica este concepto se ve muy bien con un sencillo ejemplo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">colores</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;negro&quot;</span><span class="p">,</span> <span class="s2">&quot;azul&quot;</span><span class="p">,</span> <span class="s2">&quot;verde&quot;</span><span class="p">,</span> <span class="s2">&quot;amarillo&quot;</span><span class="p">,</span> <span class="s2">&quot;rojo&quot;</span><span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">colores</span><span class="p">);</span>  <span class="c1">// mostramos los valores</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Como véis los arreglos se definen entre corchetes y contienen los datos separados por comas, en nuestro caso es un arreglo con cadenas de texto.</p>
<p>Muy bien tenemos una lista de colores, ¿qué utilidad tiene? Pues por ejemplo que podemos acceder a un elemento en concreto utilizando índices.</p>
<h3 id="utilizando-indices">Utilizando índices<a class="headerlink" href="#utilizando-indices" title="Permanent link">&para;</a></h3>
<p>Un índice hace referencia a una posición del arreglo, siendo 0 la primera posición:</p>
<ul>
<li>0 =&gt; "negro"</li>
<li>1 =&gt; "azul"</li>
<li>2 =&gt; "verde"</li>
<li>3 =&gt; "amarillo"</li>
<li>4 =&gt; "rojo"</li>
</ul>
<p>Podemos acceder al dato almacenando en una posición concreta haciendo referencia al índice entre corchetes:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">colores</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;negro&quot;</span><span class="p">,</span> <span class="s2">&quot;azul&quot;</span><span class="p">,</span> <span class="s2">&quot;verde&quot;</span><span class="p">,</span> <span class="s2">&quot;amarillo&quot;</span><span class="p">,</span> <span class="s2">&quot;rojo&quot;</span><span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="mf">0</span><span class="p">]);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="mf">1</span><span class="p">]);</span>
  <span class="nx">print</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="mf">4</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Vamos a dibujar con la función <strong>text</strong> de <strong>p5</strong> el primer color de nuestro arreglo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">colores</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;negro&quot;</span><span class="p">,</span> <span class="s2">&quot;azul&quot;</span><span class="p">,</span> <span class="s2">&quot;verde&quot;</span><span class="p">,</span> <span class="s2">&quot;amarillo&quot;</span><span class="p">,</span> <span class="s2">&quot;rojo&quot;</span><span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">textSize</span><span class="p">(</span><span class="mf">24</span><span class="p">);</span>
  <span class="nx">text</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="mf">0</span><span class="p">],</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Cuál es la gracia de todo esto? Pues que ese índice no tiene porqué ser un valor literal, pueed ser una variable:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">colores</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;negro&quot;</span><span class="p">,</span> <span class="s2">&quot;azul&quot;</span><span class="p">,</span> <span class="s2">&quot;verde&quot;</span><span class="p">,</span> <span class="s2">&quot;amarillo&quot;</span><span class="p">,</span> <span class="s2">&quot;rojo&quot;</span><span class="p">]</span>

<span class="kd">var</span> <span class="nx">indice</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>  <span class="c1">// creamos un índice</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">textSize</span><span class="p">(</span><span class="mf">24</span><span class="p">);</span>
  <span class="nx">text</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="nx">indice</span><span class="p">],</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Si ahora definimos un evento de clic y aumentamos ese índice deberíamos ser capaces de ir dibujando los diferentes valores, pues estaremos haciendo referencia a posiciones diferentes dentro del arreglo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">colores</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;negro&quot;</span><span class="p">,</span> <span class="s2">&quot;azul&quot;</span><span class="p">,</span> <span class="s2">&quot;verde&quot;</span><span class="p">,</span> <span class="s2">&quot;amarillo&quot;</span><span class="p">,</span> <span class="s2">&quot;rojo&quot;</span><span class="p">]</span>

<span class="kd">var</span> <span class="nx">indice</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>  <span class="c1">// creamos un índice</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">textSize</span><span class="p">(</span><span class="mf">24</span><span class="p">);</span>
  <span class="nx">text</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="nx">indice</span><span class="p">],</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="nx">indice</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Qué os parece?</p>
<p>Evidentemente el último elemento del arreglo es el color "rojo", así que una vez nuestro índice supera esa posición ya no dibuja nada.</p>
<p>Sin embargo nosotros podríamos añadir una condición para reiniciar el indice a 0 en caso de que se supere el número de elementos del arreglo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">colores</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;negro&quot;</span><span class="p">,</span> <span class="s2">&quot;azul&quot;</span><span class="p">,</span> <span class="s2">&quot;verde&quot;</span><span class="p">,</span> <span class="s2">&quot;amarillo&quot;</span><span class="p">,</span> <span class="s2">&quot;rojo&quot;</span><span class="p">]</span>

<span class="kd">var</span> <span class="nx">indice</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>  <span class="c1">// creamos un índice</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">textSize</span><span class="p">(</span><span class="mf">24</span><span class="p">);</span>
  <span class="nx">text</span><span class="p">(</span><span class="nx">colores</span><span class="p">[</span><span class="nx">indice</span><span class="p">],</span> <span class="mf">100</span><span class="p">,</span> <span class="mf">100</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="nx">indice</span><span class="o">++</span><span class="p">;</span>

  <span class="c1">// Como empezamos a contar por 0 el último índice es 1 menos que el número de elementos</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">indice</span> <span class="o">&gt;</span> <span class="mf">5</span> <span class="o">-</span> <span class="mf">1</span><span class="p">){</span>
    <span class="nx">indice</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora al llegar al final reiniciamos el índice así que vuelve a empezar desde el principio.</p>
<p>Por cierto, existe una forma de conseguir la longitud de un arreglo automáticamente para no tener que contar los elementos a mano:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="nx">indice</span><span class="o">++</span><span class="p">;</span>

  <span class="c1">// Como empezamos a contar por 0 el último índice es 1 menos que el número de elementos</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">indice</span> <span class="o">&gt;</span> <span class="nx">colores</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mf">1</span><span class="p">){</span>
    <span class="nx">indice</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="acceso-con-indices">Acceso con índices<a class="headerlink" href="#acceso-con-indices" title="Permanent link">&para;</a></h4>
<p>Durante la lección anterior aprendimos a trabajar con arreglos utilizando índices y creamos una variablepara ir  accediendo a sus valores mientras la increntábamos.</p>
<p>Ese concepto de crear una variable e incrementarla es la forma como se suele recorrer un arreglo de forma automática. ¿Y sabéis qué? Los bucles <strong>for</strong> son perfectos para ello, sólo tenemos que asumir que el contador del for es el índice del arreglo.</p>
<p>Haciendo eso podemos recorrer todos los elementos de un bucle de una vez.</p>
<p>Vamos a trabajar este concepto con un genial ejemplo donde partiremos de un arreglo con los diámetros de varios círculos:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">diametros</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4</span><span class="p">,</span> <span class="mf">18</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">11</span><span class="p">,</span> <span class="mf">9</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">16</span><span class="p">,</span> <span class="mf">12</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">7</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Para dibujar el primer círculo accederíamos con el índice 0 al primer valor del arreglo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="mf">0</span><span class="p">],</span> <span class="nx">diametros</span><span class="p">[</span><span class="mf">0</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div>
<p>Ahora vamos a aplicar la técnica del <strong>for</strong> para recorrer todos los diámetros de arreglo y dibujar un círculo para cada uno:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">noFill</span><span class="p">();</span>  <span class="c1">// Desactivamos el relleno para que se vean todos</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">diametros</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>No se ve mucho el dibujo porque los diámetros son muy pequeños, pero se están dibujando todos los círculos de una vez.</p>
<p>Ahora viene la parte chula, vamos a crear una variables llamada <strong>factor</strong> que por defecto valdrá 1 y la multiplicaremos por los diámetros:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">diametros</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4</span><span class="p">,</span> <span class="mf">18</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">11</span><span class="p">,</span> <span class="mf">9</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">16</span><span class="p">,</span> <span class="mf">12</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">7</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">factor</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">noFill</span><span class="p">();</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">diametros</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Y ahora viene la magia, vamos a incrementar ese factor al hacer clic en el lienzo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="nx">factor</span> <span class="o">*=</span> <span class="mf">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>¿Habéis visto que efecto más chulo? Si en lugar de presionar nosotros el ratón incrementamos el factor automáticamente al final del <strong>draw</strong>...</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">noFill</span><span class="p">();</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">diametros</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">factor</span> <span class="o">*=</span> <span class="mf">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Buenooo todo ocurre muy rápido, pero si modificamos el incremento del factor por un número muy muy pequeño ya veréis:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">noFill</span><span class="p">();</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">diametros</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">factor</span> <span class="o">*=</span> <span class="mf">1.01</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Si tenemos en cuenta que dentro del arreglo tenemos un diametro que vale 1 píxel, en el momento que el factor sea 400 es cuando ese círculo cerá tan grande como el lienzo. Si aprovechamos y en ese momento reiniciamos el factor a 1 tendremos un bucle infinito muy interesante:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">diametros</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4</span><span class="p">,</span> <span class="mf">18</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">11</span><span class="p">,</span> <span class="mf">9</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="mf">16</span><span class="p">,</span> <span class="mf">12</span><span class="p">,</span> <span class="mf">1</span><span class="p">,</span> <span class="mf">7</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">factor</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="nx">noFill</span><span class="p">();</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">diametros</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span> <span class="mf">200</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">,</span> <span class="nx">diametros</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">*</span><span class="nx">factor</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">factor</span> <span class="o">*=</span> <span class="mf">1.01</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">factor</span> <span class="o">&gt;</span> <span class="mf">400</span><span class="p">)</span> <span class="nx">factor</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Hipnotizante...</p>
<h4 id="acceso-sin-indices">Acceso sin índices<a class="headerlink" href="#acceso-sin-indices" title="Permanent link">&para;</a></h4>
<p>En esta pequeña sección vamos a ver otra forma de acceder a los elementos de un objeto sin necesidad de utilizar índice, sólo una variante del for llamada <strong>for .. of</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">numeros</span> <span class="o">=</span> <span class="p">[</span><span class="mf">100</span><span class="p">,</span> <span class="mf">150</span><span class="p">,</span> <span class="mf">300</span><span class="p">,</span> <span class="mf">500</span><span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">numero</span> <span class="k">of</span> <span class="nx">numeros</span><span class="p">){</span>
    <span class="nx">print</span><span class="p">(</span><span class="nx">numero</span><span class="p">);</span> 
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>La gracia de este método es que se recorren los elementos automáticamente mientras se almacenan en la variable que definimos, en nuestro caso <strong>numero</strong>.</p>
<p>Esta forma hace que trabajar con arreglos de objetos sea muy cómodo, por ejemplo podemos crear nuestra propia clase <strong>Circulo</strong> y crear varias instancias en un arreglo para dibujarlas todas en cada fotograma: </p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="nx">g</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">fill</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">fill</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">draw</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">400</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">400</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulos</span> <span class="o">=</span> <span class="p">[</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">235</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">50</span><span class="p">),</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">235</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">50</span><span class="p">),</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">235</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">frameRate</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>  <span class="c1">// Importante que sea bajo</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">circulo</span> <span class="k">of</span> <span class="nx">circulos</span><span class="p">){</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>En la última lección modificaremos un poco este ejemplo para explicar algunas cosas más.</p>
<h3 id="manipulando-arreglos">Manipulando arreglos<a class="headerlink" href="#manipulando-arreglos" title="Permanent link">&para;</a></h3>
<p>Por último las tres acciones básicas que se pueden realizar sobre un arreglo son:</p>
<ul>
<li><strong>Añadir</strong> elementos.</li>
<li><strong>Borrar</strong> elementos.</li>
<li><strong>Modificar</strong> elementos.</li>
</ul>
<p>Vamos a modificar el ejemplo de la lección anterior para ilustrar como funcionan estas acciones:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="nx">g</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">fill</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">fill</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">draw</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">400</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">400</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulos</span> <span class="o">=</span> <span class="p">[</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">235</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">50</span><span class="p">),</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">235</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">50</span><span class="p">),</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">235</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">frameRate</span><span class="p">(</span><span class="mf">1.5</span><span class="p">);</span>  <span class="c1">// Importante que sea pequeño</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">circulo</span> <span class="k">of</span> <span class="nx">circulos</span><span class="p">){</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="anadir-elementos">Añadir elementos<a class="headerlink" href="#anadir-elementos" title="Permanent link">&para;</a></h4>
<p>Podemos añadir nuevos elementos al arreglo en cualquier momento haciendo uso de su método <strong>push</strong>.</p>
<p>Por ejemplo podemos generar un nuevo círculo y añadirlo al arreglo si presionamos presionar la tecla con la <strong>flecha arriba</strong> del teclado tal y como explican en la <a href="https://p5js.org/es/reference/#/p5/keyPressed">documentación de la función keyPressed</a>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">keyPressed</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">UP_ARROW</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Flecha arriba presionada&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Esto tiene un inconveniente y es que las teclas sólo se detectan si préviamente hemos hecho clic en el lienzo. Sin embargo podemos forzar ese estado al empezar el <strong>sketch</strong> automáticamente:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Esto simula que hacemos clic en el canvas</span>
<span class="k">this</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
</code></pre></div>
<p>Con esto ya podemos crear nuestro círculo y agregarlo al arreglo sin presionar antes el lienzo:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">keyPressed</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">UP_ARROW</span><span class="p">)</span> <span class="p">{</span>  
    <span class="c1">// Generamos un círculo</span>
    <span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span>
      <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="mf">50</span>
    <span class="p">)</span>
    <span class="c1">// Lo añadimos al arreglo con push</span>
    <span class="nx">circulos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">circulo</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Por defecto se añadirá al final de arreglo y se irá dibujando automáticamente.</p>
<p>Por cierto sería útil dibujar un texto con el número de círculos:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">circulo</span> <span class="k">of</span> <span class="nx">circulos</span><span class="p">){</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="c1">// Dibujamos el número de círculos</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
  <span class="nx">textSize</span><span class="p">(</span><span class="mf">25</span><span class="p">)</span>
  <span class="nx">text</span><span class="p">(</span><span class="nx">circulos</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="mf">15</span><span class="p">,</span> <span class="mf">35</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="borrar-elementos">Borrar elementos<a class="headerlink" href="#borrar-elementos" title="Permanent link">&para;</a></h4>
<p>El borrado de elementos de un arreglo consiste en sacar esos elementos de arreglo. Existen diferentes métodos para hacerlo y los más básicos son:</p>
<ul>
<li><strong>pop()</strong>: Para extraer del arreglo su último elemento.</li>
<li><strong>shift()</strong>: Para extraer del arreglo su primer elemento.</li>
<li><strong>splice(indice, cantidad)</strong>: Para extraer del arreglo una cantidad de elementos a partir de una posicion determinada.</li>
</ul>
<p>Podéis elegir el que queráis dependiendo de vuestras necesidades, en nuestro caso simplemente borarremos el primer círculo del arreglo con <strong>shift</strong> al presionar la <strong>flecha abajo</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">keyPressed</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">UP_ARROW</span><span class="p">)</span> <span class="p">{</span>  
    <span class="c1">// Generamos un círculo</span>
    <span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span>
      <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="mf">50</span>
    <span class="p">)</span>
    <span class="c1">// Lo añadimos al arreglo con push</span>
    <span class="nx">circulos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">circulo</span><span class="p">);</span>
  <span class="p">}</span> 

  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">DOWN_ARROW</span><span class="p">)</span> <span class="p">{</span>  
    <span class="c1">// Borramos el primer círculo</span>
    <span class="nx">circulos</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="modificar-elementos">Modificar elementos<a class="headerlink" href="#modificar-elementos" title="Permanent link">&para;</a></h4>
<p>Por último veamos como modificar algún valor de nuestros círculso dinámicamente, por ejemplo podríamos darles un tamaño aleatorio al hacer clic con el ratón.</p>
<p>Sólo tenemos que recorrer los objetos y modificar su diámetro:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">diametro</span> <span class="o">=</span> <span class="nx">random</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">circulo</span> <span class="k">of</span> <span class="nx">circulos</span><span class="p">){</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">diametro</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Este es el código final del ejemplo:</p>
<div class="highlight"><pre><span></span><code><span class="k">this</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>

<span class="kd">class</span> <span class="nx">Circulo</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="nx">g</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">fill</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">fill</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">draw</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">400</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">400</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">d</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">circulos</span> <span class="o">=</span> <span class="p">[</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">235</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">50</span><span class="p">),</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">235</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">50</span><span class="p">),</span>
  <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span> <span class="mf">0</span><span class="p">,</span> <span class="mf">235</span><span class="p">,</span> <span class="mf">50</span><span class="p">)</span>
<span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mf">400</span><span class="p">,</span> <span class="mf">400</span><span class="p">);</span>
  <span class="nx">frameRate</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mf">220</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">circulo</span> <span class="k">of</span> <span class="nx">circulos</span><span class="p">){</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">draw</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="c1">// Dibujamos el número de círculos</span>
  <span class="nx">fill</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
  <span class="nx">textSize</span><span class="p">(</span><span class="mf">25</span><span class="p">)</span>
  <span class="nx">text</span><span class="p">(</span><span class="nx">circulos</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="mf">15</span><span class="p">,</span> <span class="mf">35</span><span class="p">)</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">keyPressed</span><span class="p">()</span> <span class="p">{</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">UP_ARROW</span><span class="p">)</span> <span class="p">{</span>  
    <span class="c1">// Generamos un círculo</span>
    <span class="kd">var</span> <span class="nx">circulo</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Circulo</span><span class="p">(</span>
      <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="nx">random</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="mf">255</span><span class="p">),</span> <span class="mf">50</span>
    <span class="p">)</span>
    <span class="c1">// Lo añadimos al arreglo con push</span>
    <span class="nx">circulos</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">circulo</span><span class="p">);</span>
  <span class="p">}</span> 

  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">keyCode</span> <span class="o">==</span> <span class="nx">DOWN_ARROW</span><span class="p">)</span> <span class="p">{</span>  
    <span class="c1">// Borramos el primer círculo</span>
    <span class="nx">circulos</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">mousePressed</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">diametro</span> <span class="o">=</span> <span class="nx">random</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">100</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">circulo</span> <span class="k">of</span> <span class="nx">circulos</span><span class="p">){</span>
    <span class="nx">circulo</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">diametro</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<p><small class="edited"><i>Última edición: 17 de Marzo de 2021</i></small></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
      
      <a
        href="../conversor-divisas/"
        title="Conversor de divisas en JS"
        class="md-flex md-footer-nav__link md-footer-nav__link--prev"
        rel="prev"
      >
        <div class="md-flex__cell md-flex__cell--shrink">
          <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
        </div>
        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
          <span class="md-flex__ellipsis">
            <span class="md-footer-nav__direction">
              Anterior
            </span>
            Conversor de divisas en JS
          </span>
        </div>
      </a>
       
      <a
        href="../nodejs/"
        title="Introducción a Node.js"
        class="md-flex md-footer-nav__link md-footer-nav__link--next"
        rel="next"
      >
        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
          <span class="md-flex__ellipsis">
            <span class="md-footer-nav__direction">
              Siguiente
            </span>
            Introducción a Node.js
          </span>
        </div>
        <div class="md-flex__cell md-flex__cell--shrink">
          <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
        </div>
      </a>
      
    </nav>
  </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        <!--<div class="md-footer-links__highlight">
          <a href="/comunidad/">Comunidad</a> · <a href="/politica-de-cookies/">Política de cookies</a> · <a href="/sobre-mi/">Sobre mí</a>
        </div>-->
        <div class="md-footer-copyright__highlight">
          2015 - 2022 &copy; Héctor Costa Guzmán (<u
            ><a
              href="https://creativecommons.org/licenses/by/4.0/deed.es"
              target="_blank"
              rel="nofollow"
              >Licencia CC BY 4.0</a
            ></u
          >)
        </div>
      </div>
       
<style>.md-footer-social__link {transition: 0.3s;}</style>
<div class="md-footer-social" style="font-size: 2.5rem; margin-top: -6px!important; padding: 0px!important; margin-bottom: -6px; overflow: hidden!important;">
  <a href="https://github.com/hcosta" title="Github" target="_blank" class="md-footer-social__link fa fa-github-square"></a>
  <a href="https://www.youtube.com/c/HektorProfe" title="Youtube" target="_blank" class="md-footer-social__link fa fa-youtube-square"></a>
  &nbsp;
</div>
 
    </div>
  </div>
  <script>
    (function (i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "https://www.google-analytics.com/analytics.js",
      "ga"
    );
    ga("create", "UA-124845547-1", "auto");
    ga("send", "pageview");
  </script>
</footer>
      
      <a id="anchorID" href="https://www.hektorprofe.net/" target="_blank"></a>
    </div>
  <script type='text/javascript' src="/assets/javascripts/application.a26c1c21.js"></script>
  <script src="/assets/javascripts/tingle.min.js"></script>
  <script type='text/javascript'>
    var modalButtonOnly = new tingle.modal({
        closeMethods: [],
        footer: true,
        stickyFooter: true
    });
    var btn5 = document.querySelector('.js-tingle-modal-5');

    // set content
    modalButtonOnly.setContent(`
    <div style="display:grid;grid-template-columns:32% 32% 32%;grid-column-gap: 1.33%;" id="supermodal">
      <div class="course">
        <a href="https://www.hektorprofe.net/cupon/python" target="_blank"><img src="/cdn/assets/python.png" style="width:100%;justify-self:center;align-self:center;"/></a>
      </div>
      <div class="course">
        <a href="https://www.hektorprofe.net/cupon/django" target="_blank"><img src="/cdn/assets/django.png" style="width:100%;justify-self:center;align-self:center;"/></a>
      </div>
      <div class="course">
        <a href="https://www.hektorprofe.net/cupon/pyside" target="_blank"><img src="/cdn/assets/pyside.png" style="width:100%;justify-self:center;align-self:center;"/></a>
      </div>
    </div>`);

    modalButtonOnly.addFooterBtn('Cerrar', 'tingle-btn tingle-btn--default tingle-btn--pull-right', function(){
      modalButtonOnly.close();
    });

    app.initialize({version:"1.2.3",url:{base:"../../.."}})
    var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function t(t,e,n){var o=e._settings;!n&&i(t)||(C(o.callback_enter,t),R.indexOf(t.tagName)>-1&&(N(t,e),I(t,o.class_loading)),E(t,e),a(t),C(o.callback_set,t))}var e={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},n=function(t){return _extends({},e,t)},o=function(t,e){return t.getAttribute("data-"+e)},r=function(t,e,n){var o="data-"+e;null!==n?t.setAttribute(o,n):t.removeAttribute(o)},a=function(t){return r(t,"was-processed","true")},i=function(t){return"true"===o(t,"was-processed")},s=function(t,e){return r(t,"ll-timeout",e)},c=function(t){return o(t,"ll-timeout")},l=function(t){return t.filter(function(t){return!i(t)})},u=function(t,e){return t.filter(function(t){return t!==e})},d=function(t,e){var n,o=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(n)},f=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},_="undefined"!=typeof window,v=_&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),g=_&&"IntersectionObserver"in window,h=_&&"classList"in document.createElement("p"),b=_&&function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),m=function(t,e,n,r){for(var a,i=0;a=t.children[i];i+=1)if("SOURCE"===a.tagName){var s=o(a,n);p(a,e,s,r)}},p=function(t,e,n,o){n&&t.setAttribute(e,f(n,o))},y=function(t,e){var n=b&&e.to_webp,r=o(t,e.data_src),a=o(t,e.data_bg);if(r){var i=f(r,n);t.style.backgroundImage='url("'+i+'")'}if(a){var s=f(a,n);t.style.backgroundImage=s}},w={IMG:function(t,e){var n=b&&e.to_webp,r=e.data_srcset,a=t.parentNode;a&&"PICTURE"===a.tagName&&m(a,"srcset",r,n);var i=o(t,e.data_sizes);p(t,"sizes",i);var s=o(t,r);p(t,"srcset",s,n);var c=o(t,e.data_src);p(t,"src",c,n)},IFRAME:function(t,e){var n=o(t,e.data_src);p(t,"src",n)},VIDEO:function(t,e){var n=e.data_src,r=o(t,n);m(t,"src",n),p(t,"src",r),t.load()}},E=function(t,e){var n=e._settings,o=t.tagName,r=w[o];if(r)return r(t,n),e._updateLoadingCount(1),void(e._elements=u(e._elements,t));y(t,n)},I=function(t,e){h?t.classList.add(e):t.className+=(t.className?" ":"")+e},L=function(t,e){h?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},C=function(t,e){t&&t(e)},O=function(t,e,n){t.addEventListener(e,n)},k=function(t,e,n){t.removeEventListener(e,n)},x=function(t,e,n){O(t,"load",e),O(t,"loadeddata",e),O(t,"error",n)},A=function(t,e,n){k(t,"load",e),k(t,"loadeddata",e),k(t,"error",n)},z=function(t,e,n){var o=n._settings,r=e?o.class_loaded:o.class_error,a=e?o.callback_load:o.callback_error,i=t.target;L(i,o.class_loading),I(i,r),C(a,i),n._updateLoadingCount(-1)},N=function(t,e){var n=function n(r){z(r,!0,e),A(t,n,o)},o=function o(r){z(r,!1,e),A(t,n,o)};x(t,n,o)},R=["IMG","IFRAME","VIDEO"],S=function(e,n,o){t(e,o),n.unobserve(e)},M=function(t){var e=c(t);e&&(clearTimeout(e),s(t,null))},j=function(t,e,n){var o=n._settings.load_delay,r=c(t);r||(r=setTimeout(function(){S(t,e,n),M(t)},o),s(t,r))},D=function(t){return t.isIntersecting||t.intersectionRatio>0},T=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},U=function(t,e){this._settings=n(t),this._setObserver(),this._loadingCount=0,this.update(e)};return U.prototype={_manageIntersection:function(t){var e=this._observer,n=this._settings.load_delay,o=t.target;n?D(t)?j(o,e,this):M(o):D(t)&&S(o,e,this)},_onIntersection:function(t){t.forEach(this._manageIntersection.bind(this))},_setObserver:function(){g&&(this._observer=new IntersectionObserver(this._onIntersection.bind(this),T(this._settings)))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&C(this._settings.callback_finish)},update:function(t){var e=this,n=this._settings,o=t||n.container.querySelectorAll(n.elements_selector);this._elements=l(Array.prototype.slice.call(o)),!v&&this._observer?this._elements.forEach(function(t){e._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,n){t(e,this,n)},loadAll:function(){var t=this;this._elements.forEach(function(e){t.load(e)})}},_&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)d(t,n);else d(t,e)}(U,window.lazyLoadOptions),U});
    var myLazyLoad = new LazyLoad({elements_selector: ".lazy"});
    const mdMenuItems = document.querySelectorAll('.md-nav__link');
    function doNav(){ document.getElementById("main__list").innerHTML = '<li class="md-nav__item"><a class="md-nav__link" href="/cursos/">Cursos</a></li><li class="md-nav__item"><a class="md-nav__link" href="/blog/">Blog</a></li>';}
    for (i = 0; i < mdMenuItems.length; i++) {  var item = mdMenuItems[i]; var htmlstring = item.innerHTML; htmlstring = (htmlstring.trim) ? htmlstring.trim() : htmlstring.replace(/^\s+/,''); if (htmlstring == 'Servidor de encuentro') { item.parentNode.removeChild(item);continue; }  if (htmlstring == 'Política de Cookies') { item.parentNode.removeChild(item);continue; } if (htmlstring == 'Buscador') { item.parentNode.removeChild(item); continue; } }
    try { var topPos = document.querySelector('#md__active_link').offsetTop; document.querySelector('#md__sidebar__scroll').scrollTop = topPos - 60; } catch (err) {}
  </script>
  </body>
</html>