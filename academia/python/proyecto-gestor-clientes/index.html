<!DOCTYPE html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Vamos a crear un proyecto utilizando los conceptos básicos: variables, colecciones, condiciones, bucles, funciones y módulos.">
      
      
        <link rel="canonical" href="https://docs.hektorprofe.net/academia/python/proyecto-gestor-clientes/">
      
      
        <meta name="author" content="Héctor Costa Guzman">
      
      <link rel="shortcut icon" href="/favicon.ico">
    
    
      
        <title>Proyecto gestor de clientes | Python | Academia | Hektor Profe</title>
      
    
    <link rel="stylesheet" href="../../../assets/stylesheets/application.2.css">
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    
    <link rel="stylesheet" href="/assets/stylesheets/tingle.min.css">
<style>
@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("/assets/fonts/specimen/MaterialIcons-Regular.woff2") format("woff2"),url("/assets/fonts/specimen/MaterialIcons-Regular.woff") format("woff"),url("/assets/fonts/specimen/MaterialIcons-Regular.ttf") format("truetype")}
[data-md-color-primary="grey"] .md-header { background-color: #191A1D }
[data-md-color-primary="grey"] .md-tabs { background-color: #222831 }
.md-footer-nav { background-color: #222831; }
.md-footer-meta { background-color: #191A1D }
html [data-md-color-primary="grey"] .md-nav--primary .md-nav__title--site { background-color: #191A1D; }
.mini{ display: none; } .maxi{ display: block; }
.embed-container { position: relative; padding-bottom: 56.25%;height: 0; overflow: hidden; max-width: 100%; height: auto; margin-bottom: 0; } 
.embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
.md-nav__link:focus, .md-nav__link:hover { color: #018dc5; }
.headerlink{ color: #018dc5 !important; }
.md-footer-links__highlight a{ color: #777 !important; }
.md-footer-links__highlight a:hover{ color: #ddd !important; }
.visible{ display: inherit !important; }
/*.md-tabs { display: none !important; }*/
.nav__btn, .nav__logo{ transition: 0.3s; }
.nav__btn:hover{ color: #aaa; }
.nav__logo:hover{ opacity:.7; }
.nav__logo {max-width: 225px !important; }
img:not([src]){visibility:hidden;}
img.click{opacity: 0.96;box-shadow:rgb(79, 82, 92) -4px 4px}
img.click:hover{opacity: 1;box-shadow:rgb(10, 172, 237) -4px 4px}
.button { background-color: #36bf2d; border: none; color: white !important; padding: 20px 0px; text-align: center; text-decoration: none; display: block; font-size: 97%; width: 100%; font-weight: bold;}
.button:hover { background-color: #4CAF50; color: white; }
.animated.delay-1dot5s {animation-delay: 1.5s;}
.md-icon--search { display:inline-block!important}
a.headerlink{ display: none !important; }
small.edited { display: block; text-align: right; }
#cookie-bar { padding: 1.8rem 1.25rem !important; background: #191A1D  !important; box-shadow:rgba(0, 0, 0, 0.2) 4px 4px 8px 8px; }
#cookie-bar-prompt-logo{ display: none !important; }
div.my-img{text-align:center;margin-top:20px}
@media (max-width: 76.1875em){ .mini{ display: block; } .maxi{ display: none;} /*.md-nav__link[for="nav-1"] { display: none; }*/ }
@media (min-width: 1599.9px){ .md-header-nav__button.md-logo img { height: 37.5px !important; width: 220px; } }
@media (min-width: 1999.9px){ .md-header-nav__button.md-logo img { height: 40px !important; width: 240px; } }
@media only screen and (max-width: 959.9px) { .nav__logo { display: block !important; }} 
@media only screen and (min-width: 960px) and (max-width: 76.1875em) { .nav__logo { display: block !important; }} 
@media only screen and (min-width: 76.1875em) { .nav__logo { display: none !important; } } 
@media only screen and (max-width: 76.1875em) { .md-sidebar--primary { left: -26.2rem;; width: 26.2rem; }  [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary { -webkit-transform: translateX(26.2rem); transform: translateX(26.2rem); } [dir="rtl"] [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary { -webkit-transform: translateX(-26.2rem); transform: translateX(-26.2rem); } }
@media (min-width: 1219.9px){ #home__btn { display: none !important; } #cursos__btn{ color: white !important; } [data-md-color-primary="grey"] .md-nav__link--active{ color: rgba(0, 0, 0, 0.87); text-decoration: underline !important; } }
@media (min-width: 467.9px){ #discord__btn{ display: inline-block !important; } }
@media only screen and (min-width: 60em){ .md-search__input { background-color: rgb(53, 54, 56); } .md-search__input:hover { background-color: rgb(84, 87, 93); color: white; }}
@media (max-width: 1219.9px){ .md-header-nav__title{ padding: 0 1rem; } .nav__btn {display:none;} }
@media (max-width: 875.9px){ #cookie-bar-button{ margin-top: 20px !important; }}
@media (max-width: 719.9px){ #cookie-bar { padding: 3.25rem 1.25rem; }}
@media (max-width: 512.9px){ #cookie-bar { padding: 2rem 1.25rem; }}
</style>
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="grey" data-md-color-accent="grey">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../../#proyecto-gestor-de-clientes-en-python" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header
  class="md-header"
  data-md-component="header"
  style="position: inherit !important"
>
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a
          href="/"
          title="Hektor Profe"
          class="md-header-nav__button md-logo"
          style="font-size: 0px"
        >
          <img
            src="/assets/images/logo.png"
            width="200px"
            height="35px"
            style="margin-top: -5px"
            alt="Hektor Profe"
            title="Hektor Profe"
          />
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label
          class="md-icon md-icon--menu md-header-nav__button"
          for="__drawer"
        ></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div
          class="md-flex__ellipsis md-header-nav__title"
          data-md-component="title"
          style="text-align: right"
        >
          <a href="/"
            ><img
              class="nav__logo"
              src="/assets/images/logo.png"
              width="200px"
              height="35px"
              style="margin: 6px auto 0"
              alt="Hektor Profe"
              title="Hektor Profe"
          /></a>
        </div>
        <style>
          .md-sidebar[data-md-state="lock"] {
            top: 0rem !important;
          }
          .md-tabs {
            display: none !important;
          }
          .hde {
            display: inline-block;
          }
          .admonition.note > .superfences-tabs > label:hover,
          .headerlink {
            color: #018dc5 !important;
          }
          .admonition.info {
            font-size: 100%;
          }
          .admonition.info label {
            font-size: 91%;
          }
          .admonition.note > .admonition-title {
            display: none;
          }
          .image {
            text-align: center;
            margin-top: 25px;
          }
        </style>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container" style="padding-top: 0px !important;">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list" id="top__tabs">
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
          <li class="md-tabs__item"><a href="javascript://" class="md-tabs__link">&nbsp;</a></li>
        
      </ul>
    </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container" style="padding-top: 8px !important;">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap" id="md__sidebar__scroll">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title" for="__drawer" style="padding:0 !important;max-height:5.5rem;"></label>
  
  <ul class="md-nav__list" id="main__list" data-md-scrollfix>
    
      
    
        <!-- comprobación extra -->
         
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Academia
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Academia
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../" title="Índice del archivo" class="md-nav__link">
      Índice del archivo
    </a>
  </li>

        
            
            
            

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2">
      Lenguaje Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Lenguaje Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../introduccion/" title="Introducción a Python" class="md-nav__link">
      Introducción a Python
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../poo-para-interfaces-graficas/" title="POO para interfaces gráficas" class="md-nav__link">
      POO para interfaces gráficas
    </a>
  </li>

        
            
            
            

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Proyecto gestor de clientes
      </label>
    
    <a href="./" title="Proyecto gestor de clientes" class="md-nav__link md-nav__link--active" id="md__active_link">
      Proyecto gestor de clientes
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#organizando-el-proyecto" title="Organizando el proyecto" class="md-nav__link toc__link">
    Organizando el proyecto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creando-el-menu" title="Creando el menú" class="md-nav__link toc__link">
    Creando el menú
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#primera-funcion-auxiliar" title="Primera función auxiliar" class="md-nav__link toc__link">
    Primera función auxiliar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestionando-clientes" title="Gestionando clientes" class="md-nav__link toc__link">
    Gestionando clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listando-los-clientes" title="Listando los clientes" class="md-nav__link toc__link">
    Listando los clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consultando-un-cliente" title="Consultando un cliente" class="md-nav__link toc__link">
    Consultando un cliente
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadiendo-clientes" title="Añadiendo clientes" class="md-nav__link toc__link">
    Añadiendo clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modificando-clientes" title="Modificando clientes" class="md-nav__link toc__link">
    Modificando clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#borrando-clientes" title="Borrando clientes" class="md-nav__link toc__link">
    Borrando clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refactorizacion" title="Refactorización" class="md-nav__link toc__link">
    Refactorización
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../tutoriales/" title="Tutoriales sobre Python" class="md-nav__link">
      Tutoriales sobre Python
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../modulo-analitico-numpy/" title="Módulo analítico NumPy" class="md-nav__link">
      Módulo analítico NumPy
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../modulo-grafico-matplotlib/" title="Módulo gráfico Matplotlib" class="md-nav__link">
      Módulo gráfico Matplotlib
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../django/introduccion/" title="Módulo web backend Django" class="md-nav__link">
      Módulo web backend Django
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../django/api-rest-framework/" title="Proyecto API con DRF" class="md-nav__link">
      Proyecto API con DRF
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../django/tutoriales/" title="Tutoriales sobre Django" class="md-nav__link">
      Tutoriales sobre Django
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Lenguaje JavaScript
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Lenguaje JavaScript
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../javascript/introduccion/" title="Introducción a JavaScript" class="md-nav__link">
      Introducción a JavaScript
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../javascript/conversor-divisas/" title="Proyecto conversor vía API" class="md-nav__link">
      Proyecto conversor vía API
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../javascript/biblioteca-p5js/" title="Introducción a P5.js" class="md-nav__link">
      Introducción a P5.js
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../javascript/nodejs/" title="Introducción a Node.js" class="md-nav__link">
      Introducción a Node.js
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../javascript/chat-heroku/" title="Proyecto chat online" class="md-nav__link">
      Proyecto chat online
    </a>
  </li>

        
            
            
            


  <li class="md-nav__item">
    <a href="../../javascript/cliente-nuxt/" title="Proyecto cliente Nuxt.js" class="md-nav__link">
      Proyecto cliente Nuxt.js
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
            
            
            


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      GNU/Linux
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        GNU/Linux
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
            
            
            


  <li class="md-nav__item">
    <a href="../../gnu-linux/ubuntu-server-web/" title="Configurar Ubuntu Server" class="md-nav__link">
      Configurar Ubuntu Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      
    
      
    
      
    
      
    
      
    
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#organizando-el-proyecto" title="Organizando el proyecto" class="md-nav__link toc__link">
    Organizando el proyecto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creando-el-menu" title="Creando el menú" class="md-nav__link toc__link">
    Creando el menú
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#primera-funcion-auxiliar" title="Primera función auxiliar" class="md-nav__link toc__link">
    Primera función auxiliar
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestionando-clientes" title="Gestionando clientes" class="md-nav__link toc__link">
    Gestionando clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listando-los-clientes" title="Listando los clientes" class="md-nav__link toc__link">
    Listando los clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consultando-un-cliente" title="Consultando un cliente" class="md-nav__link toc__link">
    Consultando un cliente
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadiendo-clientes" title="Añadiendo clientes" class="md-nav__link toc__link">
    Añadiendo clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modificando-clientes" title="Modificando clientes" class="md-nav__link toc__link">
    Modificando clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#borrando-clientes" title="Borrando clientes" class="md-nav__link toc__link">
    Borrando clientes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refactorizacion" title="Refactorización" class="md-nav__link toc__link">
    Refactorización
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="proyecto-gestor-de-clientes-en-python">Proyecto gestor de clientes en Python<a class="headerlink" href="#proyecto-gestor-de-clientes-en-python" title="Permanent link">&para;</a></h1>
<p>Vamos a crear un programa poniendo a prueba lo básico de Python que mostrará un menú con estas opciones:</p>
<ul>
<li>Listar todos los clientes del gestor.</li>
<li>Consultar un cliente a partir de su <strong>dni</strong>.</li>
<li>Agregar clientes con los campos <strong>nombre</strong>, <strong>apellido</strong>, <strong>dni</strong>.</li>
<li>Modificar el nombre y apellido de un cliente a partir de su <strong>dni</strong>.</li>
<li>Borrar un cliente a partir de su <strong>dni</strong>.</li>
<li>Salir del programa.</li>
</ul>
<p>No deberá guardar los datos en el disco duro, siempre partirá de unos clientes de prueba iniciales y no podrá haber dos clientes con el mismo <strong>dni</strong>.</p>
<p>Repositorio: <a href="https://github.com/hektorprofe/curso-gestor-clientes-python" target="_blank">https://github.com/hektorprofe/curso-gestor-clientes-python</a></p>
<h2 id="organizando-el-proyecto">Organizando el proyecto<a class="headerlink" href="#organizando-el-proyecto" title="Permanent link">&para;</a></h2>
<p>Empezaremos creando una carpeta <strong>Gestor de clientes</strong> con un fichero <strong>requirements.txt</strong> y otro <strong>README.md</strong> ambos vacíos, además de una carpeta llamada <strong>gestor/</strong> para contener los scripts de nuestro proyecto.</p>
<p>Esta organización es una buena práctica para ahorrar problemas en el futuro ya que permite añadir todo lo que necesitemos en la raíz externa sin molestar al código fuente, como por ejemplo documentación, pruebas, configuraciones, etc. Es la clave para mentener un proyecto organizado y extensible.</p>
<p>Así que vamos a separar el inicial en dos ficheros, uno con el núcleo del programa y otro para las funciones auxiliares:</p>
<p>Uno para el fichero principal:</p>
<p><code>gestor/core.py</code>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Fichero principal del programa&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># TODO: Aquí se mostrará el menú</span>
    <span class="k">pass</span>

<span class="k">if</span> <span class="vm">__name__</span><span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div></p>
<p>Y otro para las funciones auxiliares:</p>
<p><code>gestor/helpers.py</code>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Funciones de ayuda &quot;&quot;&quot;</span>
</pre></div></p>
<h2 id="creando-el-menu">Creando el menú<a class="headerlink" href="#creando-el-menu" title="Permanent link">&para;</a></h2>
<p>Vamos a por nuestro menú, pero en lugar de añadirlo en el núcleo vamos a hacerlo en su propio módulo. Recordad, cuanto más separado y organizado esté el código más reutilizable y extensible será el programa:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Menú del programa &quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">loop</span><span class="p">():</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;cls&#39;</span><span class="p">)</span>  <span class="c1"># &#39;clear&#39; para Linux y OS X</span>

        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;========================&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;  BIENVENIDO AL GESTOR  &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;========================&quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;[1] Listar clientes     &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;[2] Mostrar cliente     &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;[3] Añadir cliente      &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;[4] Modificar cliente   &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;[5] Borrar cliente      &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;[6] Salir               &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;========================&quot;</span><span class="p">)</span>

        <span class="n">option</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span>

        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;cls&#39;</span><span class="p">)</span>  <span class="c1"># &#39;clear&#39; para Linux y OS X</span>

        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Listando los clientes...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># TODO</span>
        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Mostrando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># TODO</span>
        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Modificando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># TODO</span>
        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Modificando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># TODO</span>
        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Borrando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># TODO</span>
        <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Saliendo...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Presiona ENTER para continuar...&quot;</span><span class="p">)</span>
</pre></div></p>
<p>Para probarlo podemos añadirlo a la función principal impórtándolo cómodamente:</p>
<p><code>gestor/core.py</code> 
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Fichero principal del programa&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">menu</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">menu</span><span class="o">.</span><span class="n">loop</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div></p>
<h2 id="primera-funcion-auxiliar">Primera función auxiliar<a class="headerlink" href="#primera-funcion-auxiliar" title="Permanent link">&para;</a></h2>
<p>Es un buen momento para crear una función auxiliar, así veréis su utilidad.</p>
<p>Vamos a crear una función mejorada para limpiar la terminal porque la que tenemos no detecta automáticamente el sistema operativo y uno de los puntos fuertes de Python es que es multiplataforma así que aprovechémonos de eso.</p>
<p><code>gestor/helpers.py</code>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Funciones de ayuda &quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">platform</span>

<span class="k">def</span> <span class="nf">clear</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;cls&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;clear&#39;</span><span class="p">)</span>
</pre></div></p>
<p>Ahora podemos cargar el módulo cómodamente y ejecutar la función en el menú en lugar de llamar directamente al módulo <strong>os</strong>:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">helpers</span>

<span class="c1"># os.system(&#39;cls&#39;)</span>
<span class="n">helpers</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div></p>
<h2 id="gestionando-clientes">Gestionando clientes<a class="headerlink" href="#gestionando-clientes" title="Permanent link">&para;</a></h2>
<p>Es momento de empezar a gestionar clientes y una forma interesante de manejarlos es en una lista representándolos con diccionarios con tres claves: <strong>nombre</strong>, <strong>apellido</strong> y <strong>dni</strong>.</p>
<p>Podríamos crear la lista de base en el propio menú pero no es el lugar adecuado, a fin de cuentas el menú debería simplemente llamar las acciones del gestor pero no contener variables relacionadas directamente con los clientes.</p>
<p>Así que vamos a crear un nuevo módulo para nuestro gestor. En él definiremos una lista y añadiremos algunos clientes de prueba, lo que en POO se conoce como <a href="https://es.wikipedia.org/wiki/Objeto_simulado">objetos simulados</a>, para nosotros serán unos simples diccionarios:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Administrador de clientes &quot;&quot;&quot;</span>

<span class="n">clients</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Añadimos mock data</span>
<span class="n">marta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Marta&#39;</span><span class="p">,</span> <span class="s1">&#39;apellido&#39;</span><span class="p">:</span> <span class="s1">&#39;Pérez&#39;</span><span class="p">,</span> <span class="s1">&#39;dni&#39;</span><span class="p">:</span> <span class="s1">&#39;15J&#39;</span><span class="p">}</span>
<span class="n">clients</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">marta</span><span class="p">)</span>

<span class="c1"># No hace falta crear la variable</span>
<span class="n">clients</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Manolo&#39;</span><span class="p">,</span> <span class="s1">&#39;apellido&#39;</span><span class="p">:</span> <span class="s1">&#39;López&#39;</span><span class="p">,</span> <span class="s1">&#39;dni&#39;</span><span class="p">:</span> <span class="s1">&#39;48H&#39;</span><span class="p">})</span>
<span class="n">clients</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Ana&#39;</span><span class="p">,</span> <span class="s1">&#39;apellido&#39;</span><span class="p">:</span> <span class="s1">&#39;García&#39;</span><span class="p">,</span> <span class="s1">&#39;dni&#39;</span><span class="p">:</span> <span class="s1">&#39;28Z&#39;</span><span class="p">})</span>
</pre></div></p>
<p>Con esto ya tenemos los datos de prueba.</p>
<h2 id="listando-los-clientes">Listando los clientes<a class="headerlink" href="#listando-los-clientes" title="Permanent link">&para;</a></h2>
<p>Vamos a implementar ahora una forma de listar todos los clientes creando una función que recorra la lista y los muestre uno por uno. Para ello podemos ayudarnos de una función que muestre un único usuario de la forma que nosotros queramos, así podremos cambiarla en cualquier momento para adaptarla:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="n">client</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;{client[&#39;dni&#39;]}: {client[&#39;nombre&#39;]} {client[&#39;apellido&#39;]}&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">show_all</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients</span><span class="p">:</span>
        <span class="n">show</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
</pre></div>
<p>Para utilizar este módulo simplemente lo importaremos, eso creará la lista de clientes con los datos de prueba y nos permitirá llamar la función <strong>show_all</strong>:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; Menú del programa &quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">helpers</span>
<span class="kn">import</span> <span class="nn">manager</span>

<span class="c1"># ...</span>

<span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Listando los clientes...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
</pre></div></p>
<p>¿Véis qué cómodo es todo utilizando módulos?</p>
<h2 id="consultando-un-cliente">Consultando un cliente<a class="headerlink" href="#consultando-un-cliente" title="Permanent link">&para;</a></h2>
<p>Para consultar un cliente necesitaremos recorrer la lista en busca de un DNI y devolverlo si concuerda, podemos hacerlo con una función <strong>find</strong> que muestre el cliente y lo devuelva en caso de encontrarlo:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">find</span><span class="p">():</span>

    <span class="n">dni</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Introduce el DNI del cliente</span><span class="se">\n</span><span class="s2">&gt; &quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">dni</span><span class="p">:</span>
            <span class="n">show</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">client</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;No se ha encontrado ningún cliente con ese DNI&quot;</span><span class="p">)</span>
</pre></div></p>
<p>Y la añadimos a nuestro menú:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Mostrando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>
</pre></div></p>
<h2 id="anadiendo-clientes">Añadiendo clientes<a class="headerlink" href="#anadiendo-clientes" title="Permanent link">&para;</a></h2>
<p>Para añadir usuarios necesitaremos validar los tres campos del cliente:</p>
<ul>
<li><strong>nombre</strong>: Mínimo de 2 caracteres y máximo de 30. </li>
<li><strong>apellidos</strong>: Mínimo de 2 caracteres y máximo de 30. </li>
<li><strong>dni</strong>: Debe tener 3 caracteres (es una prueba), dos números y una mayúscula al final. </li>
</ul>
<p>Creo que sería una buena idea ayudarnos de una función auxiliar que se encargue  de leer los valores por teclado y comprobar que tengan la longitud mínima y máxima que nosotros les indiquemos:</p>
<p><code>gestor/helpers.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">input_text</span><span class="p">(</span><span class="n">min_length</span><span class="p">,</span> <span class="n">max_length</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">min_length</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_length</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">text</span>
</pre></div></p>
<p>Además también tenemos que validar el <strong>dni</strong>, un campo especial que debe tener un patrón de dos números y una mayúsculas y no se puede repetir. Para crear el patrón podemos usar una sencilla expresión regular y testear algunos ejemplos de prueba en la documentación haciendo unos <strong>doctests</strong>:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_valid</span><span class="p">(</span><span class="n">dni</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt;&gt;&gt; is_valid(&#39;48H&#39;)  # No válido, en uso</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; is_valid(&#39;X82&#39;)  # No válido, incorrecto</span>
<span class="sd">    False</span>
<span class="sd">    &gt;&gt;&gt; is_valid(&#39;21A&#39;)  # Válido</span>
<span class="sd">    True</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Comprueba que el dni empieza con un patrón</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;[0-9]{2}[A-Z]&#39;</span><span class="p">,</span> <span class="n">dni</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="c1"># Comprueba que el dni no esté repetido</span>
    <span class="k">for</span> <span class="n">client</span> <span class="ow">in</span> <span class="n">clients</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">dni</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

    <span class="k">return</span> <span class="bp">True</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>
</pre></div></p>
<p>Podemos ejecutar las pruebas ejecutando el script con el argumento <strong>-v</strong>:</p>
<div class="highlight"><pre><span></span>python manage.py -v
</pre></div>
<p>Ya lo tenemos todo listo, en la siguiente sección crearemos la función para añadir el nuevo cliente.</p>
<p>Bien vamos a hacer uso de estos validadores que hemos creado para añadir usuarios:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">():</span>

    <span class="n">client</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Introduce nombre (De 2 a 30 caracteres)&quot;</span><span class="p">)</span>
    <span class="n">client</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Introduce apellido (De 2 a 30 caracteres)&quot;</span><span class="p">)</span>
    <span class="n">client</span><span class="p">[</span><span class="s1">&#39;apellido&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Introduce DNI (2 números y 1 carácter en mayúscula)&quot;</span><span class="p">)</span>
        <span class="n">dni</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_valid</span><span class="p">(</span><span class="n">dni</span><span class="p">):</span>
            <span class="n">client</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dni</span>
            <span class="k">break</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;DNI incorrecto o en uso&quot;</span><span class="p">)</span>

    <span class="n">clients</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">client</span>
</pre></div></p>
<p>Si devolvemos el cliente creado podemos guardar el resultado de <strong>add()</strong> en una variable para acceder a sus campos si queremos, aunque por ahora no lo necesitamos:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Añadiendo un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Cliente añadido correctamente</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div></p>
<h2 id="modificando-clientes">Modificando clientes<a class="headerlink" href="#modificando-clientes" title="Permanent link">&para;</a></h2>
<p>Para modificar un cliente lo que haremos es recorrer la lista enumerando los valores con índices, así podremos acceder a los diccionarios de los clientes. Una vez tengamos recuperado el cliente a partir de su <strong>dni</strong> leeremos de nuevo sus campos haciendo lo mismo que en el <strong>add</strong>:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">edit</span><span class="p">():</span>
    <span class="n">dni</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Introduce el DNI del cliente</span><span class="se">\n</span><span class="s2">&gt; &quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">clients</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">dni</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Introduce nuevo nombre ({client[&#39;nombre&#39;]})&quot;</span><span class="p">)</span>
            <span class="n">clients</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Introduce nuevo apellido ({client[&#39;apellido&#39;]})&quot;</span><span class="p">)</span>
            <span class="n">clients</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;apellido&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div></p>
<p>El <strong>dni</strong> no vamos a permitir modificarlo porque sería un rollo a nivel de validaciones, es mejor borrar el cliente y crearlo de nuevo tal como haremos en la siguiente lección.</p>
<p>Por ahora vamos a añadir esta función a nuestro menú y a probar si funciona:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Modificando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">manager</span><span class="o">.</span><span class="n">edit</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Cliente modificado correctamente</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div></p>
<h2 id="borrando-clientes">Borrando clientes<a class="headerlink" href="#borrando-clientes" title="Permanent link">&para;</a></h2>
<p>Por último la opción de borrar un cliente de la lista a partir de su <strong>dni</strong> es bastante simple, pues podemos hacerlo con el método <strong>pop()</strong> pasándole el índice donde se encuentra el diccionario que queremos borrar, algo que podemos saber fácilmente haciendo una enumeración de la lista:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">delete</span><span class="p">():</span>
    <span class="n">dni</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Introduce el DNI del cliente</span><span class="se">\n</span><span class="s2">&gt; &quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">clients</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">dni</span><span class="p">:</span>
            <span class="n">client</span> <span class="o">=</span> <span class="n">clients</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">show</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div></p>
<p>Y la añadimos al menú:</p>
<p><code>gestor/menu.py</code>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Borrando un cliente...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">manager</span><span class="o">.</span><span class="n">delete</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Cliente borrado correctamente</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div></p>
<h2 id="refactorizacion">Refactorización<a class="headerlink" href="#refactorizacion" title="Permanent link">&para;</a></h2>
<p>Creo que podemos refactorizar un poco esos enumeradores. Si devolviéramos también el índice en nuestra función <strong>find</strong> podríamos reutilizarla, así que vamos a hacer un enumerador ahí y devolvámoslo:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">find</span><span class="p">():</span>
    <span class="n">dni</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Introduce el DNI del cliente</span><span class="se">\n</span><span class="s2">&gt; &quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">client</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">clients</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">dni</span><span class="p">:</span>
            <span class="n">show</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">i</span><span class="p">,</span> <span class="n">client</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;No se ha encontrado ningún cliente con ese DNI&quot;</span><span class="p">)</span>
</pre></div></p>
<p>Ahora podemos reutilizar los bucles en las funciones <strong>edit</strong> y <strong>delete</strong>:</p>
<p><code>gestor/manager.py</code>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">edit</span><span class="p">():</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">client</span> <span class="o">=</span> <span class="n">find</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">client</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Introduce nuevo nombre ({client[&#39;nombre&#39;]})&quot;</span><span class="p">)</span>
        <span class="n">clients</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Introduce nuevo apellido ({client[&#39;apellido&#39;]})&quot;</span><span class="p">)</span>
        <span class="n">clients</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;apellido&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">helpers</span><span class="o">.</span><span class="n">input_text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">return</span> <span class="bp">False</span>

<span class="k">def</span> <span class="nf">delete</span><span class="p">():</span>
    <span class="n">i</span><span class="p">,</span> <span class="n">client</span> <span class="o">=</span> <span class="n">find</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">client</span><span class="p">:</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">clients</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div></p>
<p>Y con esto acabamos.</p>
<hr />
<p><small class="edited"><i>Última edición: 16 de Marzo de 2021</i></small></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
      
      <a
        href="../poo-para-interfaces-graficas/"
        title="POO para interfaces gráficas"
        class="md-flex md-footer-nav__link md-footer-nav__link--prev"
        rel="prev"
      >
        <div class="md-flex__cell md-flex__cell--shrink">
          <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
        </div>
        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
          <span class="md-flex__ellipsis">
            <span class="md-footer-nav__direction">
              Anterior
            </span>
            POO para interfaces gráficas
          </span>
        </div>
      </a>
       
      <a
        href="../tutoriales/"
        title="Tutoriales sobre Python"
        class="md-flex md-footer-nav__link md-footer-nav__link--next"
        rel="next"
      >
        <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
          <span class="md-flex__ellipsis">
            <span class="md-footer-nav__direction">
              Siguiente
            </span>
            Tutoriales sobre Python
          </span>
        </div>
        <div class="md-flex__cell md-flex__cell--shrink">
          <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
        </div>
      </a>
      
    </nav>
  </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        <!--<div class="md-footer-links__highlight">
          <a href="/comunidad/">Comunidad</a> · <a href="/politica-de-cookies/">Política de cookies</a> · <a href="/sobre-mi/">Sobre mí</a>
        </div>-->
        <div class="md-footer-copyright__highlight">
          2018 - 2021 &copy; Héctor Costa (<u
            ><a
              href="https://creativecommons.org/licenses/by/4.0/deed.es"
              target="_blank"
              rel="nofollow"
              >Licencia CC BY 4.0</a
            ></u
          >)
        </div>
      </div>
       
<style>.md-footer-social__link {transition: 0.3s;}</style>
<div class="md-footer-social" style="font-size: 2.5rem; margin-top: -6px!important; padding: 0px!important; margin-bottom: -6px; overflow: hidden!important;">
  <a href="https://www.youtube.com/c/HektorProfe" title="Youtube" target="_blank" class="md-footer-social__link fa fa-youtube-square"></a>
  <a href="https://twitter.com/hektorprofe" title="Twitter" target="_blank" class="md-footer-social__link fa fa-twitter-square"></a>
  <a href="https://github.com/hcosta" title="Github" target="_blank" class="md-footer-social__link fa fa-github-square"></a>
  &nbsp;
</div>
 
    </div>
  </div>
  <script>
    (function (i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "https://www.google-analytics.com/analytics.js",
      "ga"
    );
    ga("create", "UA-124845547-1", "auto");
    ga("send", "pageview");
  </script>
</footer>
      
      <a id="anchorID" href="https://www.hektorprofe.net/" target="_blank"></a>
    </div>
  <script type='text/javascript' src="/assets/javascripts/application.a26c1c21.js"></script>
  <script type='text/javascript'>
    app.initialize({version:"1.0.4",url:{base:"../../.."}})
    var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function t(t,e,n){var o=e._settings;!n&&i(t)||(C(o.callback_enter,t),R.indexOf(t.tagName)>-1&&(N(t,e),I(t,o.class_loading)),E(t,e),a(t),C(o.callback_set,t))}var e={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},n=function(t){return _extends({},e,t)},o=function(t,e){return t.getAttribute("data-"+e)},r=function(t,e,n){var o="data-"+e;null!==n?t.setAttribute(o,n):t.removeAttribute(o)},a=function(t){return r(t,"was-processed","true")},i=function(t){return"true"===o(t,"was-processed")},s=function(t,e){return r(t,"ll-timeout",e)},c=function(t){return o(t,"ll-timeout")},l=function(t){return t.filter(function(t){return!i(t)})},u=function(t,e){return t.filter(function(t){return t!==e})},d=function(t,e){var n,o=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(n)},f=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},_="undefined"!=typeof window,v=_&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),g=_&&"IntersectionObserver"in window,h=_&&"classList"in document.createElement("p"),b=_&&function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),m=function(t,e,n,r){for(var a,i=0;a=t.children[i];i+=1)if("SOURCE"===a.tagName){var s=o(a,n);p(a,e,s,r)}},p=function(t,e,n,o){n&&t.setAttribute(e,f(n,o))},y=function(t,e){var n=b&&e.to_webp,r=o(t,e.data_src),a=o(t,e.data_bg);if(r){var i=f(r,n);t.style.backgroundImage='url("'+i+'")'}if(a){var s=f(a,n);t.style.backgroundImage=s}},w={IMG:function(t,e){var n=b&&e.to_webp,r=e.data_srcset,a=t.parentNode;a&&"PICTURE"===a.tagName&&m(a,"srcset",r,n);var i=o(t,e.data_sizes);p(t,"sizes",i);var s=o(t,r);p(t,"srcset",s,n);var c=o(t,e.data_src);p(t,"src",c,n)},IFRAME:function(t,e){var n=o(t,e.data_src);p(t,"src",n)},VIDEO:function(t,e){var n=e.data_src,r=o(t,n);m(t,"src",n),p(t,"src",r),t.load()}},E=function(t,e){var n=e._settings,o=t.tagName,r=w[o];if(r)return r(t,n),e._updateLoadingCount(1),void(e._elements=u(e._elements,t));y(t,n)},I=function(t,e){h?t.classList.add(e):t.className+=(t.className?" ":"")+e},L=function(t,e){h?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},C=function(t,e){t&&t(e)},O=function(t,e,n){t.addEventListener(e,n)},k=function(t,e,n){t.removeEventListener(e,n)},x=function(t,e,n){O(t,"load",e),O(t,"loadeddata",e),O(t,"error",n)},A=function(t,e,n){k(t,"load",e),k(t,"loadeddata",e),k(t,"error",n)},z=function(t,e,n){var o=n._settings,r=e?o.class_loaded:o.class_error,a=e?o.callback_load:o.callback_error,i=t.target;L(i,o.class_loading),I(i,r),C(a,i),n._updateLoadingCount(-1)},N=function(t,e){var n=function n(r){z(r,!0,e),A(t,n,o)},o=function o(r){z(r,!1,e),A(t,n,o)};x(t,n,o)},R=["IMG","IFRAME","VIDEO"],S=function(e,n,o){t(e,o),n.unobserve(e)},M=function(t){var e=c(t);e&&(clearTimeout(e),s(t,null))},j=function(t,e,n){var o=n._settings.load_delay,r=c(t);r||(r=setTimeout(function(){S(t,e,n),M(t)},o),s(t,r))},D=function(t){return t.isIntersecting||t.intersectionRatio>0},T=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},U=function(t,e){this._settings=n(t),this._setObserver(),this._loadingCount=0,this.update(e)};return U.prototype={_manageIntersection:function(t){var e=this._observer,n=this._settings.load_delay,o=t.target;n?D(t)?j(o,e,this):M(o):D(t)&&S(o,e,this)},_onIntersection:function(t){t.forEach(this._manageIntersection.bind(this))},_setObserver:function(){g&&(this._observer=new IntersectionObserver(this._onIntersection.bind(this),T(this._settings)))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&C(this._settings.callback_finish)},update:function(t){var e=this,n=this._settings,o=t||n.container.querySelectorAll(n.elements_selector);this._elements=l(Array.prototype.slice.call(o)),!v&&this._observer?this._elements.forEach(function(t){e._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,n){t(e,this,n)},loadAll:function(){var t=this;this._elements.forEach(function(e){t.load(e)})}},_&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)d(t,n);else d(t,e)}(U,window.lazyLoadOptions),U});
    var myLazyLoad = new LazyLoad({elements_selector: ".lazy"});
    const mdMenuItems = document.querySelectorAll('.md-nav__link');
    function doNav(){ document.getElementById("main__list").innerHTML = '<li class="md-nav__item"><a class="md-nav__link" href="/cursos/">Cursos</a></li><li class="md-nav__item"><a class="md-nav__link" href="/blog/">Blog</a></li>';}
    for (i = 0; i < mdMenuItems.length; i++) {  var item = mdMenuItems[i]; var htmlstring = item.innerHTML; htmlstring = (htmlstring.trim) ? htmlstring.trim() : htmlstring.replace(/^\s+/,''); if (htmlstring == 'Servidor de encuentro') { item.parentNode.removeChild(item);continue; }  if (htmlstring == 'Política de Cookies') { item.parentNode.removeChild(item);continue; } if (htmlstring == 'Buscador') { item.parentNode.removeChild(item); continue; } }
    try { var topPos = document.querySelector('#md__active_link').offsetTop; document.querySelector('#md__sidebar__scroll').scrollTop = topPos - 60; } catch (err) {}
  </script>
  </body>
</html>